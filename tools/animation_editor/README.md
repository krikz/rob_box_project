# rob_box Animation Editor

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∞–Ω–∏–º–∞—Ü–∏–π –¥–ª—è LED –º–∞—Ç—Ä–∏—Ü —Ä–æ–±–æ—Ç–∞ rob_box —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–ª—é—á–µ–≤—ã—Ö –∫–∞–¥—Ä–æ–≤.

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (Windows)

**–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Windows - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π!**

–û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```powershell
irm https://raw.githubusercontent.com/krikz/rob_box_project/feature/voice-assistant/tools/animation_editor/install_and_run.ps1 | iex
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç Python 3.8+
- ‚úÖ –°–∫–∞—á–∞–µ—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä

–°–º. [INSTALL_WINDOWS.md](./INSTALL_WINDOWS.md) –¥–ª—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (Linux/macOS)

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install pillow numpy pyyaml
```

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ rob_box_project
python3 tools/animation_editor/main.py --animations-dir src/rob_box_animations/animations
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚ú® **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- üé® –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∏–∫—Å–µ–ª–µ–π –Ω–∞ –≤—Å–µ—Ö LED –º–∞—Ç—Ä–∏—Ü–∞—Ö (4 –∫–æ–ª–µ—Å–∞ + –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–ª–µ–π)
- üé¨ Timeline —Å –∫–ª—é—á–µ–≤—ã–º–∏ –∫–∞–¥—Ä–∞–º–∏ (keyframes)
- üñåÔ∏è –ü–∞–ª–∏—Ç—Ä–∞ —Ü–≤–µ—Ç–æ–≤ —Å 8 –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏
- ‚è±Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–µ–≤–æ–≥–æ –∫–∞–¥—Ä–∞
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞)
- ‚ñ∂Ô∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∏–º–∞—Ü–∏–π
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω–æ–π workflow (keyframe-based)

1. **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏**: File ‚Üí New Animation
2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤–æ–≥–æ –∫–∞–¥—Ä–∞**: –ö–Ω–æ–ø–∫–∞ "Add Keyframe" –≤ Timeline
3. **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–∞–Ω–µ–ª–µ–π**: –í–∫–ª—é—á–∏—Ç–µ —á–µ–∫–±–æ–∫—Å—ã –Ω—É–∂–Ω—ã—Ö –ø–∞–Ω–µ–ª–µ–π —Å–ø—Ä–∞–≤–∞ (üî¥ Wheels, üü¢ Main Display)
4. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∏–∫—Å–µ–ª–µ–π**:
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç –≤ –ø–∞–ª–∏—Ç—Ä–µ —Å–ª–µ–≤–∞
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ LED –≤ –∞–∫—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏
   - –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ –º—ã—à—å –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è
5. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–∏—Ö –∫–∞–¥—Ä–æ–≤**: –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —Å–ª–∞–π–¥–µ—Ä –≤—Ä–µ–º–µ–Ω–∏, –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π keyframe
6. **–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä**: –ö–Ω–æ–ø–∫–∞ "Play" –≤ toolbar
7. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: File ‚Üí Save –∏–ª–∏ Ctrl+S

### –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

- `Ctrl+N` - –ù–æ–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
- `Ctrl+O` - –û—Ç–∫—Ä—ã—Ç—å
- `Ctrl+S` - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
- `Ctrl+Shift+S` - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫
- `Ctrl+Q` - –í—ã—Ö–æ–¥

### –ü–∞–Ω–µ–ª–∏ —Ä–æ–±–æ—Ç–∞

- **wheel_front_left** (8√ó8) - –õ–µ–≤–æ–µ –ø–µ—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–µ—Å–æ
- **wheel_front_right** (8√ó8) - –ü—Ä–∞–≤–æ–µ –ø–µ—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–µ—Å–æ
- **wheel_rear_left** (8√ó8) - –õ–µ–≤–æ–µ –∑–∞–¥–Ω–µ–µ –∫–æ–ª–µ—Å–æ
- **wheel_rear_right** (8√ó8) - –ü—Ä–∞–≤–æ–µ –∑–∞–¥–Ω–µ–µ –∫–æ–ª–µ—Å–æ
- **main_display** (25√ó5) - –ì–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–ª–µ–π (—Ä–æ—Ç)
- **wheels_front** (16√ó8) - –û–±–∞ –ø–µ—Ä–µ–¥–Ω–∏—Ö –∫–æ–ª–µ—Å–∞
- **wheels_rear** (16√ó8) - –û–±–∞ –∑–∞–¥–Ω–∏—Ö –∫–æ–ª–µ—Å–∞
- **wheels_all** (16√ó16) - –í—Å–µ 4 –∫–æ–ª–µ—Å–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
animation_editor/
‚îú‚îÄ‚îÄ __init__.py          # Package init
‚îú‚îÄ‚îÄ app.py               # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ models.py            # Data models (Animation, Frame, Panel)
‚îú‚îÄ‚îÄ canvas.py            # Robot Canvas –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
‚îú‚îÄ‚îÄ timeline.py          # Timeline –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îú‚îÄ‚îÄ palette.py           # Color Palette –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
main.py                  # Entry point
setup.py                 # Setup script
README.md                # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Models
- **Frame** - –æ–¥–∏–Ω –∫–∞–¥—Ä –∞–Ω–∏–º–∞—Ü–∏–∏ (numpy array RGB)
- **Panel** - –ø–∞–Ω–µ–ª—å —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π –∫–∞–¥—Ä–æ–≤
- **Animation** - –∞–Ω–∏–º–∞—Ü–∏—è —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–∞–Ω–µ–ª—è–º–∏

### GUI Components
- **RobotCanvas** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–æ–±–æ—Ç–∞ —Å LED –º–∞—Ç—Ä–∏—Ü–∞–º–∏
- **Timeline** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–¥—Ä–∞–º–∏
- **ColorPalette** - –≤—ã–±–æ—Ä —Ü–≤–µ—Ç–∞
- **AnimationEditorApp** - –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤

–ê–Ω–∏–º–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ YAML manifest + PNG frames:

```
animations/
‚îú‚îÄ‚îÄ manifests/
‚îÇ   ‚îî‚îÄ‚îÄ my_animation.yaml
‚îî‚îÄ‚îÄ frames/
    ‚îî‚îÄ‚îÄ my_animation/
        ‚îú‚îÄ‚îÄ wheel_front_left_frame_000.png
        ‚îú‚îÄ‚îÄ wheel_front_left_frame_001.png
        ‚îî‚îÄ‚îÄ ...
```

### –ü—Ä–∏–º–µ—Ä manifest:

```yaml
name: my_animation
description: Example animation
duration_ms: 1000
fps: 10
loop: true
panels:
  - logical_group: wheel_front_left
    offset_ms: 0
    frames:
      - image: frames/my_animation/wheel_front_left_frame_000.png
        duration_ms: 100
      - image: frames/my_animation/wheel_front_left_frame_001.png
        duration_ms: 100
```

## TODO / Roadmap

- [ ] –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] Eyedropper tool –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞ –∏–∑ –∫–∞–¥—Ä–∞
- [ ] Onion skinning (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π/—Å–ª–µ–¥—É—é—â–∏–π –∫–∞–¥—Ä –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º)
- [ ] –ò–º–ø–æ—Ä—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π/GIF
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ GIF/–≤–∏–¥–µ–æ
- [ ] –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- [ ] Undo/Redo
- [ ] Copy/Paste frames
- [ ] –ü–æ–∏—Å–∫ –∏ –∑–∞–º–µ–Ω–∞ —Ü–≤–µ—Ç–æ–≤
- [ ] –ü–∞–∫–µ—Ç–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Python 3.8+
- tkinter (–æ–±—ã—á–Ω–æ –≤–∫–ª—é—á–µ–Ω –≤ Python)
- numpy
- Pillow
- PyYAML

## License

MIT License - —Å–º. LICENSE —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

## Contributing

Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ issue –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è.
