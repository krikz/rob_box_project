# rob_box Animation Editor

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∞–Ω–∏–º–∞—Ü–∏–π –¥–ª—è LED –º–∞—Ç—Ä–∏—Ü —Ä–æ–±–æ—Ç–∞ rob_box.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚ú® **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- üé® –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∏–∫—Å–µ–ª–µ–π –Ω–∞ –≤—Å–µ—Ö LED –º–∞—Ç—Ä–∏—Ü–∞—Ö (4 –∫–æ–ª–µ—Å–∞ + –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–ª–µ–π)
- üé¨ Timeline –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–¥—Ä–∞–º–∏
- üñåÔ∏è –ü–∞–ª–∏—Ç—Ä–∞ —Ü–≤–µ—Ç–æ–≤ —Å preset —Ü–≤–µ—Ç–∞–º–∏ –∏ custom color picker
- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ, –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞–¥—Ä–æ–≤
- ‚è±Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ –∫–∞–¥—Ä–∞
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π
- ‚ñ∂Ô∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∏–º–∞—Ü–∏–π (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd tools/animation_editor
pip install -e .
```

## –ó–∞–ø—É—Å–∫

–ò–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
cd /path/to/rob_box_project
python3 tools/animation_editor/main.py
```

–ò–ª–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—É—Ç–∏ –∫ –∞–Ω–∏–º–∞—Ü–∏—è–º:

```bash
python3 tools/animation_editor/main.py --animations-dir src/rob_box_animations/animations
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω–æ–π workflow

1. **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏**: File ‚Üí New Animation
2. **–í—ã–±–æ—Ä –ø–∞–Ω–µ–ª–∏**: –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–Ω–µ–ª—å –≤ Timeline (wheel_front_left, main_display, etc.)
3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞–¥—Ä–æ–≤**: –ö–Ω–æ–ø–∫–∞ "‚ûï Add Frame" –≤ Timeline
4. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∏–∫—Å–µ–ª–µ–π**:
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç –≤ –ø–∞–ª–∏—Ç—Ä–µ
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ LED –≤ –Ω—É–∂–Ω–æ–π –ø–∞–Ω–µ–ª–∏
   - –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ –º—ã—à—å –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è
5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –ò–∑–º–µ–Ω–∏—Ç–µ Duration (ms) –≤ Timeline
6. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: File ‚Üí Save –∏–ª–∏ Ctrl+S

### –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

- `Ctrl+N` - –ù–æ–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
- `Ctrl+O` - –û—Ç–∫—Ä—ã—Ç—å
- `Ctrl+S` - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
- `Ctrl+Shift+S` - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫
- `Ctrl+Q` - –í—ã—Ö–æ–¥

### –ü–∞–Ω–µ–ª–∏ —Ä–æ–±–æ—Ç–∞

- **wheel_front_left** (8√ó8) - –õ–µ–≤–æ–µ –ø–µ—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–µ—Å–æ
- **wheel_front_right** (8√ó8) - –ü—Ä–∞–≤–æ–µ –ø–µ—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–µ—Å–æ
- **wheel_rear_left** (8√ó8) - –õ–µ–≤–æ–µ –∑–∞–¥–Ω–µ–µ –∫–æ–ª–µ—Å–æ
- **wheel_rear_right** (8√ó8) - –ü—Ä–∞–≤–æ–µ –∑–∞–¥–Ω–µ–µ –∫–æ–ª–µ—Å–æ
- **main_display** (25√ó5) - –ì–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–ª–µ–π (—Ä–æ—Ç)
- **wheels_front** (16√ó8) - –û–±–∞ –ø–µ—Ä–µ–¥–Ω–∏—Ö –∫–æ–ª–µ—Å–∞
- **wheels_rear** (16√ó8) - –û–±–∞ –∑–∞–¥–Ω–∏—Ö –∫–æ–ª–µ—Å–∞
- **wheels_all** (16√ó16) - –í—Å–µ 4 –∫–æ–ª–µ—Å–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
animation_editor/
‚îú‚îÄ‚îÄ __init__.py          # Package init
‚îú‚îÄ‚îÄ app.py               # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ models.py            # Data models (Animation, Frame, Panel)
‚îú‚îÄ‚îÄ canvas.py            # Robot Canvas –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
‚îú‚îÄ‚îÄ timeline.py          # Timeline –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îú‚îÄ‚îÄ palette.py           # Color Palette –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
main.py                  # Entry point
setup.py                 # Setup script
README.md                # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Models
- **Frame** - –æ–¥–∏–Ω –∫–∞–¥—Ä –∞–Ω–∏–º–∞—Ü–∏–∏ (numpy array RGB)
- **Panel** - –ø–∞–Ω–µ–ª—å —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π –∫–∞–¥—Ä–æ–≤
- **Animation** - –∞–Ω–∏–º–∞—Ü–∏—è —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–∞–Ω–µ–ª—è–º–∏

### GUI Components
- **RobotCanvas** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–æ–±–æ—Ç–∞ —Å LED –º–∞—Ç—Ä–∏—Ü–∞–º–∏
- **Timeline** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–¥—Ä–∞–º–∏
- **ColorPalette** - –≤—ã–±–æ—Ä —Ü–≤–µ—Ç–∞
- **AnimationEditorApp** - –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤

–ê–Ω–∏–º–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ YAML manifest + PNG frames:

```
animations/
‚îú‚îÄ‚îÄ manifests/
‚îÇ   ‚îî‚îÄ‚îÄ my_animation.yaml
‚îî‚îÄ‚îÄ frames/
    ‚îî‚îÄ‚îÄ my_animation/
        ‚îú‚îÄ‚îÄ wheel_front_left_frame_000.png
        ‚îú‚îÄ‚îÄ wheel_front_left_frame_001.png
        ‚îî‚îÄ‚îÄ ...
```

### –ü—Ä–∏–º–µ—Ä manifest:

```yaml
name: my_animation
description: Example animation
duration_ms: 1000
fps: 10
loop: true
panels:
  - logical_group: wheel_front_left
    offset_ms: 0
    frames:
      - image: frames/my_animation/wheel_front_left_frame_000.png
        duration_ms: 100
      - image: frames/my_animation/wheel_front_left_frame_001.png
        duration_ms: 100
```

## TODO / Roadmap

- [ ] –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] Eyedropper tool –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞ –∏–∑ –∫–∞–¥—Ä–∞
- [ ] Onion skinning (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π/—Å–ª–µ–¥—É—é—â–∏–π –∫–∞–¥—Ä –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º)
- [ ] –ò–º–ø–æ—Ä—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π/GIF
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ GIF/–≤–∏–¥–µ–æ
- [ ] –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- [ ] Undo/Redo
- [ ] Copy/Paste frames
- [ ] –ü–æ–∏—Å–∫ –∏ –∑–∞–º–µ–Ω–∞ —Ü–≤–µ—Ç–æ–≤
- [ ] –ü–∞–∫–µ—Ç–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Python 3.8+
- tkinter (–æ–±—ã—á–Ω–æ –≤–∫–ª—é—á–µ–Ω –≤ Python)
- numpy
- Pillow
- PyYAML

## License

MIT License - —Å–º. LICENSE —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

## Contributing

Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ issue –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è.
