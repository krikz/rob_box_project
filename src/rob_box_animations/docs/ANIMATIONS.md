# üé® –°–∏—Å—Ç–µ–º–∞ LED –ê–Ω–∏–º–∞—Ü–∏–π

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∏–º–∞—Ü–∏–π –¥–ª—è WS2812B LED –º–∞—Ç—Ä–∏—Ü Rob Box.

---

## üìä –û–±–∑–æ—Ä

Rob Box –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **381 –∞–¥—Ä–µ—Å—É–µ–º—ã–π WS2812B LED** –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π:

- **4√ó –º–∞—Ç—Ä–∏—Ü—ã 8√ó8** (256 LED) ‚Äî –∫–æ–ª—ë—Å–∞ —Ä–æ–±–æ—Ç–∞
- **1√ó –º–∞—Ç—Ä–∏—Ü–∞ 25√ó5** (125 LED) ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –¥–∏—Å–ø–ª–µ–π

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
ROS2 Compositor ‚Üí Animation Manager ‚Üí pi5neo Driver ‚Üí SPI ‚Üí WS2812B LEDs
```

**–ü–∞–∫–µ—Ç:** [ros2leds](https://github.com/nosknut/ros2leds) (git submodule)  
**–î—Ä–∞–π–≤–µ—Ä:** pi5neo library (Raspberry Pi 5)  
**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** SPI (GPIO10 ‚Äî MOSI)  
**–ü–∏—Ç–∞–Ω–∏–µ:** 5V/25A PSU (–¥–æ 100% —è—Ä–∫–æ—Å—Ç–∏)

---

## üé¨ –ì–∞–ª–µ—Ä–µ—è –ê–Ω–∏–º–∞—Ü–∏–π

### üö® Emergency (–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ —Å–ª—É–∂–±—ã)

| –ê–Ω–∏–º–∞—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–µ–≤—å—é |
|----------|----------|--------|
| **Police** | –°–∏–Ω–∏–µ/–∫—Ä–∞—Å–Ω—ã–µ –º–∏–≥–∞—é—â–∏–µ –æ–≥–Ω–∏ + —Å—Ç–∞—Ç–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç "–ü–û–õ–ò–¶–ò–Ø" | [](../../../assets/animations/police.gif) |
| **Ambulance** | –ö—Ä–∞—Å–Ω–æ-–±–µ–ª–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è + –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –∫—Ä–µ—Å—Ç | [](../../../assets/animations/ambulance.gif) |
| **Fire Truck** | –ö—Ä–∞—Å–Ω–æ-–æ—Ä–∞–Ω–∂–µ–≤—ã–µ –æ–≥–Ω–∏ + —Ç–µ–∫—Å—Ç "FIRE" | [](../../../assets/animations/fire_truck.gif) |
| **Road Service** | –ñ—ë–ª—Ç–∞—è –ø—É–ª—å—Å–∞—Ü–∏—è –Ω–∞ –≤—Å–µ—Ö –º–∞—Ç—Ä–∏—Ü–∞—Ö | [](../../../assets/animations/road_service.gif) |

### üß≠ Navigation (–ù–∞–≤–∏–≥–∞—Ü–∏—è)

| –ê–Ω–∏–º–∞—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–µ–≤—å—é |
|----------|----------|--------|
| **Turn Left** | –û—Ä–∞–Ω–∂–µ–≤–æ–µ –º–∏–≥–∞–Ω–∏–µ FL/RL + –∫—Ä–∞—Å–Ω—ã–π —Å—Ç–æ–ø-—Å–∏–≥–Ω–∞–ª RR | [](../../../assets/animations/turn_left.gif) |
| **Turn Right** | –û—Ä–∞–Ω–∂–µ–≤–æ–µ –º–∏–≥–∞–Ω–∏–µ FR/RR + –∫—Ä–∞—Å–Ω—ã–π —Å—Ç–æ–ø-—Å–∏–≥–Ω–∞–ª RL | [](../../../assets/animations/turn_right.gif) |
| **Braking** | –†–∞—Å—à–∏—Ä—è—é—â–∏–µ—Å—è –±–µ–ª—ã–µ —Ñ–∞—Ä—ã + —è—Ä–∫–æ-–∫—Ä–∞—Å–Ω–∞—è –ø—É–ª—å—Å–∞—Ü–∏—è | [](../../../assets/animations/braking.gif) |
| **Accelerating** | –ù–∞—Ä–∞—Å—Ç–∞—é—â–∏–µ –±–µ–ª—ã–µ —Ñ–∞—Ä—ã + –æ—Ä–∞–Ω–∂–µ–≤–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ | [](../../../assets/animations/accelerating.gif) |

### üòä Emotions (–≠–º–æ—Ü–∏–∏)

| –ê–Ω–∏–º–∞—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–µ–≤—å—é |
|----------|----------|--------|
| **Idle** | –°–ø–æ–∫–æ–π–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ (–ø—É–ª—å—Å–∞—Ü–∏—è 0.5‚Üí1.0) | [](../../../assets/animations/idle.gif) |
| **Happy** | –†–∞–¥—É–∂–Ω—ã–µ –≥–ª–∞–∑–∞ + —É–ª—ã–±–∫–∞ | [](../../../assets/animations/happy.gif) |
| **Sad** | –°–∏–Ω–∏–µ –≥—Ä—É—Å—Ç–Ω—ã–µ –≥–ª–∞–∑–∞ + –≥—Ä—É—Å—Ç–Ω—ã–π —Ä–æ—Ç | [](../../../assets/animations/sad.gif) |
| **Angry** | –ö—Ä–∞—Å–Ω–∞—è –ø—É–ª—å—Å–∞—Ü–∏—è + —Å–µ—Ä–¥–∏—Ç–æ–µ –ª–∏—Ü–æ | [](../../../assets/animations/angry.gif) |
| **Surprised** | –®–∏—Ä–æ–∫–æ –æ—Ç–∫—Ä—ã—Ç—ã–µ –≥–ª–∞–∑–∞ + O-–æ–±—Ä–∞–∑–Ω—ã–π —Ä–æ—Ç | [](../../../assets/animations/surprised.gif) |
| **Thinking** | –ë–æ–∫–æ–≤–æ–π –≤–∑–≥–ª—è–¥ + –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ "..." | [](../../../assets/animations/thinking.gif) |
| **Talking** | –ú–æ—Ä–≥–∞–Ω–∏–µ + –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–æ—Ç —Å –≤–æ–ª–Ω–∞–º–∏ | [](../../../assets/animations/talking.gif) |
| **Victory** | –†–∞–¥—É–∂–Ω—ã–π —Ü–∏–∫–ª + –≥–∞–ª–æ—á–∫–∞ ‚úì | [](../../../assets/animations/victory.gif) |

### ‚öôÔ∏è System (–°–∏—Å—Ç–µ–º–Ω—ã–µ)

| –ê–Ω–∏–º–∞—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–µ–≤—å—é |
|----------|----------|--------|
| **Sleep** | –ó–∞–∫—Ä—ã—Ç—ã–µ –≥–ª–∞–∑–∞ + —Ç—É—Å–∫–ª–∞—è —Å–∏–Ω—è—è –ø—É–ª—å—Å–∞—Ü–∏—è + ZZZ | [](../../../assets/animations/sleep.gif) |
| **Wakeup** | –û—Ç–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è –≥–ª–∞–∑–∞ + –Ω–∞—Ä–∞—Å—Ç–∞—é—â–∞—è —è—Ä–∫–æ—Å—Ç—å + –∑–µ–≤–æ–∫ | [](../../../assets/animations/wakeup.gif) |
| **Charging** | –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ –≥–ª–∞–∑–∞ + –∑–µ–ª—ë–Ω–∞—è –ø—É–ª—å—Å–∞—Ü–∏—è + –∞–Ω–∏–º–∞—Ü–∏—è –±–∞—Ç–∞—Ä–µ–∏ | [](../../../assets/animations/charging.gif) |
| **Low Battery** | –¢—É—Å–∫–ª–æ–µ –∫—Ä–∞—Å–Ω–æ–µ –º–∏–≥–∞–Ω–∏–µ + –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –±–∞—Ç–∞—Ä–µ—è | [](../../../assets/animations/low_battery.gif) |
| **Error** | X-–≥–ª–∞–∑–∞ + –∫—Ä–∞—Å–Ω–æ–µ –º–∏–≥–∞–Ω–∏–µ + —Ç–µ–∫—Å—Ç "ERROR" | [](../../../assets/animations/error.gif) |

---

## üìê –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/rob_box_animations/
‚îú‚îÄ‚îÄ animations/
‚îÇ   ‚îú‚îÄ‚îÄ frames/              # PNG –∫–∞–¥—Ä—ã (8√ó8 –∏ 25√ó5)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ police/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ navigation/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ emotions/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ system/
‚îÇ   ‚îî‚îÄ‚îÄ manifests/           # YAML –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã v2.5
‚îÇ       ‚îú‚îÄ‚îÄ police_lights.yaml
‚îÇ       ‚îú‚îÄ‚îÄ turn_left.yaml
‚îÇ       ‚îú‚îÄ‚îÄ happy.yaml
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ generate_animation_frames.py  # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–∞–¥—Ä–æ–≤
    ‚îî‚îÄ‚îÄ visualize_animations.py       # –ü—Ä–µ–≤—å—é –∞–Ω–∏–º–∞—Ü–∏–π
```

### –§–æ—Ä–º–∞—Ç –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ (v2.5)

```yaml
name: "animation_name"
version: "2.5"
duration_ms: 1000
loop: true
fps: 10

panels:
  - logical_group: "wheel_front_left"
    offset_ms: 0
    frames:
      - image: "frames/category/frame_01.png"
        duration_ms: 100

metadata:
  priority: "normal"
  category: "navigation"
  tags: ["navigation", "turn"]
```

### –ö–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–π —à—Ä–∏—Ñ—Ç

–î–ª—è —Ç–µ–∫—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è custom **3√ó5 pixel font**:

```python
cyrillic_map = {
    '–ü': [[1,1,1],[1,0,1],[1,0,1],[1,0,1],[1,0,1]],
    '–û': [[1,1,1],[1,0,1],[1,0,1],[1,0,1],[1,1,1]],
    '–õ': [[0,0,1],[0,1,0],[0,1,0],[1,0,0],[1,0,0]],
    '–ò': [[1,0,1],[1,0,1],[1,1,1],[1,0,1],[1,0,1]],
    '–¶': [[1,0,1],[1,0,1],[1,0,1],[1,0,1],[1,1,1]],
    '–Ø': [[1,1,1],[1,0,1],[1,1,1],[0,1,0],[1,0,1]],
}
```

---

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–¥—Ä–æ–≤

```bash
# –í—Å–µ –∞–Ω–∏–º–∞—Ü–∏–∏
python3 scripts/generate_animation_frames.py --animation all

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
python3 scripts/generate_animation_frames.py --animation happy
```

### –ü—Ä–µ–≤—å—é

```bash
python3 scripts/visualize_animations.py
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–∫–Ω–æ —Å –ø—Ä–µ–≤—å—é –≤—Å–µ—Ö 5 –º–∞—Ç—Ä–∏—Ü –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏

1. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –≤ `generate_animation_frames.py`
2. –°–æ–∑–¥–∞—Ç—å YAML –º–∞–Ω–∏—Ñ–µ—Å—Ç
3. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞–¥—Ä—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–í—Å–µ–≥–æ –∞–Ω–∏–º–∞—Ü–∏–π:** 21
- **–í—Å–µ–≥–æ –∫–∞–¥—Ä–æ–≤:** 600+
- **–†–∞–∑–º–µ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:** ~50KB (PNG) + ~54MB (GIF –ø—Ä–µ–≤—å—é)
- **FPS:** 10 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- **–°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 1-3 —Å–µ–∫—É–Ω–¥—ã
- **–§–æ—Ä–º–∞—Ç –∫–∞–¥—Ä–æ–≤:** RGB888 PNG (–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω)

---

## üîó –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ros2leds package](https://github.com/nosknut/ros2leds) ‚Äî LED —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- [rob_box_animations README](../README.md) ‚Äî –¥–µ—Ç–∞–ª–∏ –ø–∞–∫–µ—Ç–∞
- [SOFTWARE.md](../../../architecture/SOFTWARE.md) ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è

---

**–í–µ—Ä—Å–∏—è:** 2.5  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 12 –æ–∫—Ç—è–±—Ä—è 2025
