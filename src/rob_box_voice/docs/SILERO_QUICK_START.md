# Silero TTS –¥–ª—è ROBBOX - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

**‚úÖ TTS –¥–≤–∏–∂–æ–∫ –∑–∞–º–µ–Ω—ë–Ω:** Piper ‚Üí Silero v4

**–ü–æ—á–µ–º—É:**
- ‚ö° **–ë—ã—Å—Ç—Ä–µ–µ realtime**: RTF 0.3-0.5 –Ω–∞ Pi 5 (–≤ 2-3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è)
- üé≠ **SSML –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å pitch (—Ç–æ–Ω), rate (—Å–∫–æ—Ä–æ—Å—Ç—å), –ø–∞—É–∑—ã
- üó£Ô∏è **4 –≥–æ–ª–æ—Å–∞**: 2 –º—É–∂—Å–∫–∏—Ö (aidar, baya), 2 –∂–µ–Ω—Å–∫–∏—Ö (kseniya, xenia)

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSML

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ pitch (—Ç–æ–Ω –≥–æ–ª–æ—Å–∞)

```python
# –ù–∏–∑–∫–∏–π –≥–æ–ª–æ—Å (—Å–µ—Ä—å—ë–∑–Ω—ã–π —Ä–æ–±–æ—Ç)
ssml = '<speak><prosody pitch="low">–í–Ω–∏–º–∞–Ω–∏–µ! –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ!</prosody></speak>'

# –í—ã—Å–æ–∫–∏–π –≥–æ–ª–æ—Å (–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π —Ä–æ–±–æ—Ç)
ssml = '<speak><prosody pitch="high">–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?</prosody></speak>'

# –ù–æ—Ä–º–∞–ª—å–Ω—ã–π –≥–æ–ª–æ—Å
ssml = '<speak><prosody pitch="medium">–û–±—ã—á–Ω–∞—è —Ñ—Ä–∞–∑–∞</prosody></speak>'
```

**–ó–Ω–∞—á–µ–Ω–∏—è pitch:**
- `x-low` - –æ—á–µ–Ω—å –Ω–∏–∑–∫–∏–π (–º–æ—â–Ω—ã–π —Ä–æ–±–æ—Ç)
- `low` - –Ω–∏–∑–∫–∏–π (—Å–µ—Ä—å—ë–∑–Ω—ã–π)
- `medium` - –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `high` - –≤—ã—Å–æ–∫–∏–π (–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π)
- `x-high` - –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π (–≤–µ—Å—ë–ª—ã–π —Ä–æ–±–æ—Ç)

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ rate (—Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ—á–∏)

```python
# –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ—á—å (–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ)
ssml = '<speak><prosody rate="slow">–°–µ–π—á–∞—Å –æ–±—ä—è—Å–Ω—é –ø–æ–¥—Ä–æ–±–Ω–æ</prosody></speak>'

# –ë—ã—Å—Ç—Ä–∞—è —Ä–µ—á—å (—Å—Ä–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)
ssml = '<speak><prosody rate="fast">–ë–∞—Ç–∞—Ä–µ—è —Ä–∞–∑—Ä—è–∂–∞–µ—Ç—Å—è!</prosody></speak>'
```

**–ó–Ω–∞—á–µ–Ω–∏—è rate:**
- `x-slow` - –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ
- `slow` - –º–µ–¥–ª–µ–Ω–Ω–æ
- `medium` - –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- `fast` - –±—ã—Å—Ç—Ä–æ
- `x-fast` - –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

```python
# –ù–∏–∑–∫–∏–π –≥–æ–ª–æ—Å + –º–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ—á—å (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
ssml = '<speak><prosody pitch="low" rate="slow">–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ –≤–ø–µ—Ä–µ–¥–∏</prosody></speak>'

# –í—ã—Å–æ–∫–∏–π –≥–æ–ª–æ—Å + –±—ã—Å—Ç—Ä–∞—è —Ä–µ—á—å (—Ä–∞–¥–æ—Å—Ç—å)
ssml = '<speak><prosody pitch="high" rate="fast">–£—Ä–∞! –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞!</prosody></speak>'
```

### –ü–∞—É–∑—ã

```python
# –ü–∞—É–∑–∞ –º–µ–∂–¥—É –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏
ssml = '<speak>–ü–µ—Ä–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ.<break time="1s"/>–í—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ.</speak>'

# –ü–∞—É–∑–∞ –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è
ssml = '<speak>–î–∞–π –ø–æ–¥—É–º–∞—é...<break time="2s"/>–ö–∞–∂–µ—Ç—Å—è, —è –∑–Ω–∞—é –æ—Ç–≤–µ—Ç.</speak>'
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª: `src/rob_box_voice/config/voice_assistant.yaml`

```yaml
tts_node:
  provider: "silero"
  
  silero:
    model_path: "/models/silero_v4_ru.pt"
    speaker: "aidar"          # –í—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞
    sample_rate: 48000        # –ö–∞—á–µ—Å—Ç–≤–æ –∑–≤—É–∫–∞
    threads: 4                # CPU threads (–¥–ª—è Pi 5)
    pitch: "medium"           # –ë–∞–∑–æ–≤—ã–π —Ç–æ–Ω
    rate: "medium"            # –ë–∞–∑–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
    use_ssml: true            # –í–∫–ª—é—á–∏—Ç—å SSML
```

### –ì–æ–ª–æ—Å–∞

**–ú—É–∂—Å–∫–∏–µ:**
- **aidar** ‚úÖ - –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π, —á—ë—Ç–∫–∏–π, —Å–µ—Ä—å—ë–∑–Ω—ã–π (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
- **baya** - —Å–ø–æ–∫–æ–π–Ω—ã–π, –º—è–≥–∫–∏–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π

**–ñ–µ–Ω—Å–∫–∏–µ:**
- **kseniya** - –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π
- **xenia** ‚úÖ - —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–π, –∂–∏–≤–æ–π (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –¥–ª—è –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
cd src/rob_box_voice/scripts
python3 test_tts_voices.py --engine silero

# –¢–µ—Å—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≥–æ–ª–æ—Å–∞
python3 test_tts_voices.py --engine silero --voice aidar

# –¢–µ—Å—Ç SSML
python3 test_tts_voices.py --engine silero --text '<speak><prosody pitch="low">–ù–∏–∑–∫–∏–π –≥–æ–ª–æ—Å</prosody></speak>'
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π

### 1. –°–µ—Ä—å—ë–∑–Ω—ã–π —Ä–æ–±–æ—Ç (–æ—Ö—Ä–∞–Ω–Ω–∏–∫, –ø–æ–º–æ—â–Ω–∏–∫)
```yaml
silero:
  speaker: "aidar"
  pitch: "low"
  rate: "medium"
```

### 2. –î—Ä—É–∂–µ–ª—é–±–Ω—ã–π —Ä–æ–±–æ—Ç (–∫–æ–º–ø–∞–Ω—å–æ–Ω)
```yaml
silero:
  speaker: "xenia"
  pitch: "medium"
  rate: "medium"
```

### 3. –ú–∞–ª–µ–Ω—å–∫–∏–π —Ä–æ–±–æ—Ç (–∏–≥—Ä—É—à–∫–∞)
```yaml
silero:
  speaker: "xenia"
  pitch: "high"
  rate: "fast"
```

### 4. –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ñ—Ä–∞–∑—ã

```python
# –†–∞–¥–æ—Å—Ç—å
ssml = '<speak><prosody pitch="high" rate="fast">–û—Ç–ª–∏—á–Ω–æ! –í—ã–ø–æ–ª–Ω–µ–Ω–æ!</prosody></speak>'

# –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
ssml = '<speak><prosody pitch="low" rate="slow">–í–Ω–∏–º–∞–Ω–∏–µ! –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ!</prosody></speak>'

# –†–∞–∑–º—ã—à–ª–µ–Ω–∏–µ
ssml = '<speak>–î–∞–π –ø–æ–¥—É–º–∞—é...<break time="1s"/><prosody rate="slow">–ö–∞–∂–µ—Ç—Å—è, —è –∑–Ω–∞—é –æ—Ç–≤–µ—Ç</prosody></speak>'

# –°—Ä–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
ssml = '<speak><prosody pitch="high" rate="x-fast">–ë–∞—Ç–∞—Ä–µ—è —Ä–∞–∑—Ä—è–∂–∞–µ—Ç—Å—è!</prosody></speak>'
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**Raspberry Pi 5:**
- RTF: **0.3-0.5** (–≤ 2-3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è) ‚ö°
- –õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: **300-500ms** –¥–ª—è —Ñ—Ä–∞–∑—ã "–ü—Ä–∏–≤–µ—Ç!"
- RAM: **~200 MB**
- CPU: **60-80%** –æ–¥–Ω–æ–≥–æ —è–¥—Ä–∞

**–≠—Ç–æ –±—ã—Å—Ç—Ä–µ–µ —á–µ–º realtime!** üöÄ

## –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:** `docs/development/SILERO_SSML_CONFIGURATION.md`
- **–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:** `src/rob_box_voice/scripts/test_tts_voices.py`
- **–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ Pi 5:** `docs/development/SILERO_TTS_RASPBERRY_PI.md`
- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è SSML Wiki:** https://github.com/snakers4/silero-models/wiki/SSML

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –≥–æ–ª–æ—Å–∞: `python3 test_tts_voices.py --engine silero`
2. üé® –í—ã–±–µ—Ä–∏ –≥–æ–ª–æ—Å –∏ pitch –¥–ª—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ —Ä–æ–±–æ—Ç–∞
3. üé≠ –ò—Å–ø–æ–ª—å–∑—É–π SSML –¥–ª—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ñ—Ä–∞–∑
4. üöÄ –ó–∞–ø—É—Å—Ç–∏ –≤ Docker: –æ–±—Ä–∞–∑ –æ–±–Ω–æ–≤–ª—ë–Ω, –º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–Ω–∏ —Å **aidar + pitch="low"** –¥–ª—è —Å–µ—Ä—å—ë–∑–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞ –∏–ª–∏ **xenia + pitch="medium"** –¥–ª—è –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–≥–æ!
