# Phase 4: Sound Effects Node

## –û–±–∑–æ—Ä

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–î–∞—Ç–∞**: 2025-10-13  
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ —Å —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Sound Node

**–§–∞–π–ª**: `rob_box_voice/sound_node.py` (236 —Å—Ç—Ä–æ–∫)

**ROS –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**:
```
Subscribers:
  /voice/sound/trigger (String)   - –¢—Ä–∏–≥–≥–µ—Ä –∑–≤—É–∫–æ–≤–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞

Publishers:
  /voice/sound/state (String)     - –°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–æ–¥—ã
  /animations/trigger (String)    - –¢—Ä–∏–≥–≥–µ—Ä –∞–Ω–∏–º–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
```yaml
sound_pack_dir: ~/rob_box_project/sound_pack
volume_db: 0                    # –†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
trigger_animations: true        # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
animation_topic: /animations/trigger
```

## Sound Pack

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–≤—É–∫–∏

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: `sound_pack/` (11 —Ñ–∞–π–ª–æ–≤)

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –¢—Ä–∏–≥–≥–µ—Ä |
|------|-----------|---------|
| `thinking.mp3` | –í–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ LLM | `thinking` |
| `surprise.mp3` | –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å | `surprise` |
| `confused.mp3` | –ù–µ –ø–æ–Ω—è–ª –≤–æ–ø—Ä–æ—Å | `confused` |
| `angry_1.mp3` | –ù–µ–≥–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è 1 | `angry_1` –∏–ª–∏ `angry` |
| `angry_2.mp3` | –ù–µ–≥–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è 2 | `angry_2` –∏–ª–∏ `angry` |
| `cute.mp3` | –ü—Ä–∏—è—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç | `cute` |
| `very_cute.mp3` | –û—á–µ–Ω—å –º–∏–ª—ã–π –æ—Ç–≤–µ—Ç | `very_cute` |
| `talk_1.mp3` | –í–æ –≤—Ä–µ–º—è —Ä–µ—á–∏ (–≤–∞—Ä–∏–∞–Ω—Ç 1) | `talk_1` –∏–ª–∏ `talk` |
| `talk_2.mp3` | –í–æ –≤—Ä–µ–º—è —Ä–µ—á–∏ (–≤–∞—Ä–∏–∞–Ω—Ç 2) | `talk_2` –∏–ª–∏ `talk` |
| `talk_3.mp3` | –í–æ –≤—Ä–µ–º—è —Ä–µ—á–∏ (–≤–∞—Ä–∏–∞–Ω—Ç 3) | `talk_3` –∏–ª–∏ `talk` |
| `talk_4.mp3` | –í–æ –≤—Ä–µ–º—è —Ä–µ—á–∏ (–≤–∞—Ä–∏–∞–Ω—Ç 4) | `talk_4` –∏–ª–∏ `talk` |

### –ì—Ä—É–ø–ø—ã –∑–≤—É–∫–æ–≤

Sound Node –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥—Ä—É–ø–ø—ã —Å —Å–ª—É—á–∞–π–Ω—ã–º –≤—ã–±–æ—Ä–æ–º:

```python
sound_groups = {
    'talk': ['talk_1', 'talk_2', 'talk_3', 'talk_4'],  # Random
    'angry': ['angry_1', 'angry_2'],                   # Random
    'cute': ['cute', 'very_cute']                      # Random
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
```bash
# –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å "talk" ‚Üí —Å–ª—É—á–∞–π–Ω—ã–π –∏–∑ talk_1..4
ros2 topic pub /voice/sound/trigger std_msgs/String "data: 'talk'"
```

## –†–∞–±–æ—Ç–∞ Sound Node

### –ê–ª–≥–æ—Ä–∏—Ç–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∑–≤—É–∫–æ–≤** (–ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ):
   - –°–∫–∞–Ω–∏—Ä—É–µ—Ç `sound_pack/` –¥–ª—è `.mp3` —Ñ–∞–π–ª–æ–≤
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å –ø–æ–º–æ—â—å—é `pydub.AudioSegment`
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫—É –≥—Ä–æ–º–∫–æ—Å—Ç–∏ (`volume_db`)

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–∞**:
   - –ü–æ–ª—É—á–∞–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä –∏–∑ `/voice/sound/trigger`
   - –í—ã–±–∏—Ä–∞–µ—Ç –∑–≤—É–∫ (–ø—Ä—è–º–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∏–ª–∏ –∏–∑ –≥—Ä—É–ø–ø—ã)
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ

3. **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ**:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `pydub.playback.play()`
   - –ë–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç –∞–Ω–∏–º–∞—Ü–∏—é

4. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**:
   - –ü—É–±–ª–∏–∫—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ `ready`
   - –ì–æ—Ç–æ–≤ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ç—Ä–∏–≥–≥–µ—Ä—É

### –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞**: –î–≤–∞ –∑–≤—É–∫–∞ –Ω–µ –¥–æ–ª–∂–Ω—ã –∏–≥—Ä–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ**:
```python
if self.is_playing:
    self.get_logger().warn('‚ö†Ô∏è –ó–≤—É–∫ —É–∂–µ –∏–≥—Ä–∞–µ—Ç, –ø—Ä–æ–ø—É—Å–∫–∞—é')
    return
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Dialogue Node

### –¢—Ä–∏–≥–≥–µ—Ä—ã –≤ dialogue_node

**–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ Phase 4**:
```python
# dialogue_node.py
self.sound_trigger_pub = self.create_publisher(
    String, '/voice/sound/trigger', 10
)

# –ü–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º –∫ LLM
self._trigger_sound('thinking')
```

### Data Flow

```
User Speech ‚Üí STT ‚Üí Dialogue ‚Üí Sound + TTS
                        ‚Üì
                   "thinking"
                        ‚Üì
                   sound_node
                        ‚Üì
                   thinking.mp3 ‚ô™
```

**–ü—Ä–∏–º–µ—Ä –¥–∏–∞–ª–æ–≥–∞ —Å –∑–≤—É–∫–∞–º–∏**:

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ü—Ä–∏–≤–µ—Ç —Ä–æ–±–æ—Ç"
2. `dialogue_node` ‚Üí –¢—Ä–∏–≥–≥–µ—Ä: **"thinking"**
3. `sound_node` ‚Üí –ò–≥—Ä–∞–µ—Ç `thinking.mp3` üéµ
4. DeepSeek ‚Üí –û—Ç–≤–µ—Ç: "–ü—Ä–∏–≤–µ—Ç!"
5. `tts_node` ‚Üí –°–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏
6. –ê—É–¥–∏–æ –≤—ã—Ö–æ–¥ ‚Üí "–ü—Ä–∏–≤–µ—Ç!" üó£Ô∏è

### –ë—É–¥—É—â–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã

**TODO**: –î–æ–±–∞–≤–∏—Ç—å emotion detection –≤ dialogue_node:
```python
# –ê–Ω–∞–ª–∏–∑ –æ—Ç–≤–µ—Ç–∞ LLM –¥–ª—è –≤—ã–±–æ—Ä–∞ –∑–≤—É–∫–∞
if "—É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ" in response or "–≤–∞—É" in response:
    self._trigger_sound('surprise')
elif "–Ω–µ –∑–Ω–∞—é" in response:
    self._trigger_sound('confused')
elif sentiment == "positive":
    self._trigger_sound('cute')
```

## –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

### Animation Mapping

Sound Node –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç –∞–Ω–∏–º–∞—Ü–∏–∏:

```python
animation_map = {
    'thinking': 'thinking',      # –î—É–º–∞–µ—Ç
    'surprise': 'surprise',      # –£–¥–∏–≤–ª—ë–Ω
    'confused': 'confused',      # –ù–µ –ø–æ–Ω—è–ª
    'angry': 'angry',            # –ó–ª–∏—Ç—Å—è
    'cute': 'happy',             # –†–∞–¥—É–µ—Ç—Å—è
    'very_cute': 'very_happy',   # –û—á–µ–Ω—å —Ä–∞–¥
    'talk': 'talking'            # –ì–æ–≤–æ—Ä–∏—Ç
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä**:
```yaml
trigger_animations: true   # –í–∫–ª—é—á–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
```

**–û—Ç–∫–ª—é—á–µ–Ω–∏–µ**:
```yaml
trigger_animations: false  # –¢–æ–ª—å–∫–æ –∑–≤—É–∫–∏, –±–µ–∑ –∞–Ω–∏–º–∞—Ü–∏–π
```

## –†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏

### Volume Control

**–ü–∞—Ä–∞–º–µ—Ç—Ä** `volume_db`:
- `0` - –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `+6` - –≤ 2 —Ä–∞–∑–∞ –≥—Ä–æ–º—á–µ
- `-6` - –≤ 2 —Ä–∞–∑–∞ —Ç–∏—à–µ
- `+12` - –≤ 4 —Ä–∞–∑–∞ –≥—Ä–æ–º—á–µ
- `-12` - –≤ 4 —Ä–∞–∑–∞ —Ç–∏—à–µ

**–§–æ—Ä–º—É–ª–∞**: `new_volume = original + volume_db`

**–ü—Ä–∏–º–µ—Ä**:
```yaml
sound_node:
  volume_db: -3  # –ù–µ–º–Ω–æ–≥–æ —Ç–∏—à–µ
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Test Script

**–§–∞–π–ª**: `scripts/test_sound_node.py`

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é
- –í—ã–±–æ—Ä –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –∑–≤—É–∫–æ–≤
- –¢–µ—Å—Ç –≤—Å–µ—Ö –∑–≤—É–∫–æ–≤ –ø–æ–¥—Ä—è–¥
- –¢–µ—Å—Ç –≥—Ä—É–ø–ø (random)

**–ó–∞–ø—É—Å–∫**:
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å sound_node
ros2 run rob_box_voice sound_node

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–µ—Ä
cd src/rob_box_voice/scripts
python3 test_sound_node.py
```

### Manual Testing

**–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –∑–≤—É–∫**:
```bash
ros2 topic pub --once /voice/sound/trigger std_msgs/String "data: 'thinking'"
```

**–ì—Ä—É–ø–ø–∞ (random)**:
```bash
ros2 topic pub --once /voice/sound/trigger std_msgs/String "data: 'talk'"
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è**:
```bash
ros2 topic echo /voice/sound/state
```

### Integration Test

**–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å –¥–∏–∞–ª–æ–≥–æ–º**:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Voice Assistant
ros2 launch rob_box_voice voice_assistant.launch.py

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - —ç–º—É–ª—è—Ü–∏—è STT
ros2 topic pub --once /voice/stt/result std_msgs/String "data: '–ø—Ä–∏–≤–µ—Ç —Ä–æ–±–æ—Ç'"

# –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
# 1. thinking.mp3 ‚ô™ (–≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏)
# 2. –û—Ç–≤–µ—Ç —Ä–æ–±–æ—Ç–∞ üó£Ô∏è
```

## Performance

### –õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

| –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |
|----------|-------|-------------|
| –ó–∞–≥—Ä—É–∑–∫–∞ 11 MP3 | ~500ms | ‚úÖ –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ |
| Trigger ‚Üí Play | <50ms | ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ |
| –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ | 1-3s | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ñ–∞–π–ª–∞ |

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

```
CPU: ~5-10% (–≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã)
RAM: ~50 MB (–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ MP3)
–ê—É–¥–∏–æ –≤—ã—Ö–æ–¥: ReSpeaker 3.5mm jack –∏–ª–∏ ALSA
```

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ó–≤—É–∫–∏ –Ω–µ –∏–≥—Ä–∞—é—Ç

**–ü—Ä–∏—á–∏–Ω—ã**:
1. –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `sound_pack/` –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
2. MP3 —Ñ–∞–π–ª—ã –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã
3. –ù–µ—Ç –∞—É–¥–∏–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
4. PyDub –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
ls -lh ~/rob_box_project/sound_pack

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–æ–¥—ã
ros2 run rob_box_voice sound_node

# –û–∂–∏–¥–∞–µ—Ç—Å—è:
# ‚úì thinking: 2341ms, 44100Hz
# ‚úì surprise: 1523ms, 44100Hz
# ...
# ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –∑–≤—É–∫–æ–≤: 11/11
```

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PyDub
pip install pydub

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å MP3 —Ñ–∞–π–ª—ã
file ~/rob_box_project/sound_pack/*.mp3
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –∑–≤—É–∫–∞ –Ω–∞ –≤—ã—Ö–æ–¥–µ

**–ü—Ä–∏—á–∏–Ω—ã**:
1. ALSA –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
2. –ì—Ä–æ–º–∫–æ—Å—Ç—å = 0
3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∞—É–¥–∏–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞—É–¥–∏–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
aplay -L

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥—Ä–æ–º–∫–æ—Å—Ç—å
alsamixer

# –¢–µ—Å—Ç –∑–≤—É–∫–∞
aplay /usr/share/sounds/alsa/Front_Center.wav
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ó–≤—É–∫–∏ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞**: –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å TTS –∏–ª–∏ –¥—Ä—É–≥–∏–º –∞—É–¥–∏–æ –ø–æ—Ç–æ–∫–æ–º.

**–†–µ—à–µ–Ω–∏–µ**: Sound Node –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `is_playing` —Ñ–ª–∞–≥:
```python
if self.is_playing:
    return  # –ù–µ –ø—Ä–µ—Ä—ã–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π –∑–≤—É–∫
```

## Docker Integration

### Dockerfile Updates

**TODO**: –î–æ–±–∞–≤–∏—Ç—å –≤ `docker/vision/Dockerfile`:
```dockerfile
# PyDub –¥–ª—è sound_node
RUN pip3 install pydub

# FFmpeg –¥–ª—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è MP3
RUN apt-get update && apt-get install -y ffmpeg && rm -rf /var/lib/apt/lists/*
```

### Docker Compose

**–î–æ–±–∞–≤–∏—Ç—å** –≤ `docker/vision/docker-compose.yaml`:
```yaml
voice-assistant:
  volumes:
    - ./../../sound_pack:/ws/sound_pack:ro  # Mount sound files
```

## Next Steps: Phase 5

**Command Node** - —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ —Ä–æ–±–æ—Ç—É:
- –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–º–∞–Ω–¥ –∏–∑ STT —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞–º–µ—Ä–µ–Ω–∏–π (–¥–≤–∏–∂–µ–Ω–∏–µ, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, –¥–µ–π—Å—Ç–≤–∏—è)
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ ROS2 action servers
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Nav2 –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**TODO**:
1. –°–æ–∑–¥–∞—Ç—å `command_node.py`
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–ª–æ–≤–∞—Ä—å –∫–æ–º–∞–Ω–¥
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å intent classifier
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Nav2 actions

## References

- [PyDub Documentation](https://github.com/jiaaro/pydub)
- [ROS2 Publisher/Subscriber](https://docs.ros.org/en/humble/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Py-Publisher-And-Subscriber.html)
- [Threading in Python](https://docs.python.org/3/library/threading.html)

---

**Status**: ‚úÖ Phase 4 Complete  
**Next**: Phase 5 - Command Recognition Node
