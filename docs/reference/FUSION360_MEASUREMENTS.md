# Rob Box - –§–∏–Ω–∞–ª—å–Ω—ã–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è –∏–∑ Fusion 360
**–î–∞—Ç–∞:** 2025-10-11  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–æ

## ‚úÖ –ò–¢–û–ì–û–í–´–ï –ü–ê–†–ê–ú–ï–¢–†–´

### –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–æ–ª–µ—Å (–∏–∑ URDF_ROBBOX.xacro)

| –ö–æ–ª–µ—Å–æ | X (–º) | Y (–º) | Z (–º) |
|--------|-------|-------|-------|
| **rear_left** | 0.195 | 0.1438 | 0.0288 |
| **front_left** | 0.195 | -0.1457 | 0.0289 |
| **front_right** | -0.1960 | -0.1447 | 0.0289 |
| **rear_right** | -0.195 | 0.1438 | 0.0288 |

### –ì–µ–æ–º–µ—Ç—Ä–∏—è —Ä–æ–±–æ—Ç–∞ (rocker-bogie)

```
                Y (–≤–ø–µ—Ä–µ–¥ ‚Üë)
                    ‚îÇ
                    ‚îÇ FL
                    ‚îÇ  ‚óè
      289 –º–º ‚Üí      ‚îÇ  ‚îÇ ‚Üê –õ–µ–≤–∞—è –±–∞–ª–∫–∞ (X=0.195)
      (–∫–æ–ª–µ—è)       ‚îÇ  ‚îÇ
                    ‚îÇ  ‚óè
                    ‚îÇ RL
    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ X (–≤–ø—Ä–∞–≤–æ ‚Üí)
                    ‚îÇ RR
                    ‚îÇ  ‚óè
                    ‚îÇ  ‚îÇ ‚Üê –ü—Ä–∞–≤–∞—è –±–∞–ª–∫–∞ (X=-0.195)
                    ‚îÇ  ‚îÇ
                    ‚îÇ  ‚óè
                    ‚îÇ FR
                    ‚îÇ
                    
      ‚óÑ‚îÄ‚îÄ‚îÄ 390 –º–º (–±–∞–∑–∞) ‚îÄ‚îÄ‚îÄ‚ñ∫
```

### –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|----------|
| **–ë–∞–∑–∞ (wheelbase)** | **390 –º–º** | –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –ª–µ–≤–æ–π –∏ –ø—Ä–∞–≤–æ–π –≥—Ä—É–ø–ø–æ–π –∫–æ–ª–µ—Å (–ø–æ X) |
| **–ö–æ–ª–µ—è (track)** | **289 –º–º** | –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –ø–µ—Ä–µ–¥–Ω–∏–º–∏ –∏ –∑–∞–¥–Ω–∏–º–∏ –∫–æ–ª–µ—Å–∞–º–∏ (–ø–æ Y) |
| **Wheel Radius** | **115 –º–º** | –†–∞–¥–∏—É—Å –∫–æ–ª–µ—Å–∞ (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∏–∑ STL) |
| **Wheel Diameter** | **230 –º–º** | –î–∏–∞–º–µ—Ç—Ä –∫–æ–ª–µ—Å–∞ (10" —Å–∞–º–æ–∫–∞—Ç–Ω–æ–µ –∫–æ–ª–µ—Å–æ) |

---

## üìê –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã

### –ë–∞–∑–∞ —Ä–æ–±–æ—Ç–∞ (wheelbase –¥–ª—è rocker-bogie)
```
–õ–µ–≤–∞—è –≥—Ä—É–ø–ø–∞:   X = 0.195 –º
–ü—Ä–∞–≤–∞—è –≥—Ä—É–ø–ø–∞:  X = -0.195 –º
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ë–∞–∑–∞ = 0.390 –º = 390 –º–º ‚úÖ
```

### –ö–æ–ª–µ—è (track –º–µ–∂–¥—É –ø–µ—Ä–µ–¥–Ω–∏–º–∏ –∏ –∑–∞–¥–Ω–∏–º–∏)
```
–õ–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞:
  front_left Y = -0.1457 –º
  rear_left  Y =  0.1438 –º
  –ö–æ–ª–µ—è_L = 0.2895 –º = 289.5 –º–º

–ü—Ä–∞–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞:
  front_right Y = -0.1447 –º
  rear_right  Y =  0.1438 –º
  –ö–æ–ª–µ—è_R = 0.2885 –º = 288.5 –º–º

–°—Ä–µ–¥–Ω—è—è –∫–æ–ª–µ—è = 289 –º–º ‚úÖ
```

### Wheel separation –¥–ª—è diff_drive_controller
```
–¶–µ–Ω—Ç—Ä –ª–µ–≤—ã—Ö –∫–æ–ª–µ—Å:  X = 0.1950, Y = -0.0010
–¶–µ–Ω—Ç—Ä –ø—Ä–∞–≤—ã—Ö –∫–æ–ª–µ—Å: X = -0.1955, Y = -0.0004

–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ø–æ X: 0.3905 –º = 390.5 –º–º
–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ø–æ Y: 0.0005 –º = 0.5 –º–º

wheel_separation = 0.390 –º ‚úÖ
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ROS2 Control

### –§–∞–π–ª: `controller_manager.yaml`

```yaml
diff_drive_controller:
  ros__parameters:
    left_wheel_names:
      - front_left_wheel_joint
      - rear_left_wheel_joint
    
    right_wheel_names:
      - front_right_wheel_joint
      - rear_right_wheel_joint
    
    # ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã –∏–∑ Fusion 360
    wheel_separation: 0.390  # 390 –º–º (–±–∞–∑–∞ —Ä–æ–±–æ—Ç–∞)
    wheel_radius: 0.115      # 115 –º–º (—Ä–∞–¥–∏—É—Å –∫–æ–ª–µ—Å–∞)
    wheels_per_side: 2
```

---

## üéØ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ä—É—á–Ω—ã–º–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | URDF | –í–∞—à–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è | –†–∞–∑–Ω–∏—Ü–∞ | –°—Ç–∞—Ç—É—Å |
|----------|------|----------------|---------|--------|
| –ë–∞–∑–∞ | 390 –º–º | "–∫–æ–ª–µ—è 390 –º–º" | 0 –º–º | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç! |
| –ö–æ–ª–µ—è | 289 –º–º | "–±–∞–∑–∞ 290 –º–º" | 1 –º–º | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç! |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ë—ã–ª–∞ –ø—É—Ç–∞–Ω–∏—Ü–∞ –≤ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏, –Ω–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ! üòä

- **–í–∞—à–∞ "–∫–æ–ª–µ—è 390–º–º"** = –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ **–±–∞–∑–∞** (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ left‚Üîright)
- **–í–∞—à–∞ "–±–∞–∑–∞ 290–º–º"** = –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ **–∫–æ–ª–µ—è** (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ front‚Üîrear)

–†–∞–∑–Ω–∏—Ü–∞ –≤—Å–µ–≥–æ **1 –º–º** - –æ—Ç–ª–∏—á–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å! ‚úÖ

---

## üìä –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å–µ–Ω—Å–æ—Ä–æ–≤

| –°–µ–Ω—Å–æ—Ä | X (–º) | Y (–º) | Z (–º) | –°—Ç–∞—Ç—É—Å |
|--------|-------|-------|-------|--------|
| **LSLIDAR N10** (lidar_1) | -0.0003 | 0.1708 | 0.4765 | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **OAK-D-Lite** (camera_oak_1) | -0.0002 | 0.1158 | 0.4595 | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **RPi Camera** (camera_rpi_1) | 0.0650 | 0.1707 | 0.4615 | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–µ–Ω—Å–æ—Ä—ã —Ç–µ–ø–µ—Ä—å —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–æ–≤—ã—Ö origins! –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–µ–º–Ω–æ–≥–æ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å, –Ω–æ —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

---

## üîß –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. ‚úÖ **FROM_FUSION_360/urdf/URDF_ROBBOX.xacro**
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã origins –≤—Å–µ—Ö –∫–æ–ª–µ—Å
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è rocker-bogie
   - –ë–∞–∑–∞ 390–º–º, –∫–æ–ª–µ—è 289–º–º

2. ‚úÖ **docker/main/config/controllers/controller_manager.yaml**
   - wheel_separation: 0.390 –º
   - wheel_radius: 0.115 –º
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã

3. ‚úÖ **FROM_FUSION_360/meshes/*.stl**
   - –û–±–Ω–æ–≤–ª–µ–Ω base_link.stl —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ origins
   - –í—Å–µ –∫–æ–ª–µ—Å–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏

---

## üìù TODO

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å `src/rob_box_description/urdf/rob_box_main.xacro` –ø–æ–¥ –Ω–æ–≤—É—é –≥–µ–æ–º–µ—Ç—Ä–∏—é
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏–∑ URDF_ROBBOX.xacro
  - –û–±–Ω–æ–≤–∏—Ç—å wheel joints
  - –û–±–Ω–æ–≤–∏—Ç—å sensor positions (–æ–Ω–∏ —Ç–µ–ø–µ—Ä—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–æ–≤–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞)

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ros2_control –±–ª–æ–∫
  - wheel_separation: 0.390
  - CAN IDs –∫–æ–ª–µ—Å [49, 124, 81, 94]
  
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å URDF
  ```bash
  ros2 launch robot_state_publisher robot_state_publisher.py
  rviz2
  ```

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
  - ROS2_CONTROL_ARCHITECTURE.md
  - VESC_INTEGRATION_PROGRESS.md

- [ ] –°–æ–∑–¥–∞—Ç—å launch —Ñ–∞–π–ª –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
  ```bash
  ros2 launch rob_box_bringup display.launch.py
  ```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏

### –ì–µ–æ–º–µ—Ç—Ä–∏—è rocker-bogie
```python
# –õ–µ–≤—ã–µ –∫–æ–ª–µ—Å–∞ –Ω–∞ –æ–¥–Ω–æ–π –ª–∏–Ω–∏–∏ –ø–æ X
assert front_left.x == rear_left.x  # 0.195 == 0.195 ‚úÖ

# –ü—Ä–∞–≤—ã–µ –∫–æ–ª–µ—Å–∞ –ø–æ—á—Ç–∏ –Ω–∞ –æ–¥–Ω–æ–π –ª–∏–Ω–∏–∏ –ø–æ X
assert abs(front_right.x - rear_right.x) < 0.001  # –†–∞–∑–Ω–∏—Ü–∞ 0.97–º–º ‚úÖ

# –ë–∞–∑–∞ –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏
assert abs(left.x - right.x) == 0.390  # ‚úÖ

# –ö–æ–ª–µ—è –Ω–∞ –∫–∞–∂–¥–æ–π —Å—Ç–æ—Ä–æ–Ω–µ
assert abs(front.y - rear.y) ‚âà 0.289  # ‚úÖ
```

### –°–∏–º–º–µ—Ç—Ä–∏—è
```python
# –õ–µ–≤—ã–µ –∏ –ø—Ä–∞–≤—ã–µ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã –ø–æ X –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ origin
assert abs(rear_left.x + rear_right.x) < 0.001  # 0.195 + (-0.195) ‚âà 0 ‚úÖ

# –ü–µ—Ä–µ–¥–Ω–∏–µ –∏ –∑–∞–¥–Ω–∏–µ –ø–æ—á—Ç–∏ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã –ø–æ Y
assert abs(front_left.y + rear_left.y) < 0.002  # -0.146 + 0.144 ‚âà 0 ‚úÖ
```

---

## üéâ –ò—Ç–æ–≥

**–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ!** ‚ú®

- ‚úÖ Origins –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ Fusion 360
- ‚úÖ URDF –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –ò–∑–º–µ—Ä–µ–Ω–∏—è —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å —Ä—É—á–Ω—ã–º–∏ –∑–∞–º–µ—Ä–∞–º–∏ (—Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 1–º–º)
- ‚úÖ –ì–µ–æ–º–µ—Ç—Ä–∏—è rocker-bogie –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è ros2_control –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å `rob_box_main.xacro` –ø–æ–¥ –Ω–æ–≤—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –≤ RViz.
