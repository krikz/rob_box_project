# Rob Box - –ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ Fusion 360 STL Analysis

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-10-11  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** FROM_FUSION_360/meshes/*.stl  
**–ú–µ—Ç–æ–¥:** Python script —Å numpy-stl

---

## üìê –ë–∞–∑–æ–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã —Ä–æ–±–æ—Ç–∞

### Base Link (–æ—Å–Ω–æ–≤–Ω–æ–µ —à–∞—Å—Å–∏)
```yaml
size:
  length_x: 0.2300 m  # 230 mm
  width_y:  0.4757 m  # 475.7 mm
  height_z: 0.1550 m  # 155 mm

center_in_fusion:
  x: -0.1800 m
  y:  0.0224 m
  z:  0.0450 m
```

**–î–ª—è URDF:** –≠—Ç–∏ —Ä–∞–∑–º–µ—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–∫—É—â–∏–º –∑–Ω–∞—á–µ–Ω–∏—è–º –≤ `rob_box.xacro`!

---

## üì° –°–µ–Ω—Å–æ—Ä—ã - –¢–û–ß–ù–´–ï –ö–û–û–†–î–ò–ù–ê–¢–´

### LSLIDAR N10 (2D LiDAR)

**–ü–æ–ª–æ–∂–µ–Ω–∏–µ –≤ Fusion 360:**
```yaml
position:
  x: -0.1803 m  # 180.3 mm –Ω–∞–∑–∞–¥ –æ—Ç origin
  y:  0.1713 m  # 171.3 mm –≤–ª–µ–≤–æ
  z:  0.4620 m  # 462 mm –≤–≤–µ—Ä—Ö

size:
  diameter: 0.0520 m  # 52 mm (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
  height:   0.0361 m  # 36.1 mm (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
```

**–î–ª—è URDF (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ base_link):**
```xml
<origin xyz="-0.1803 0.1713 0.4620" rpy="0 0 0"/>
```

---

### OAK-D-Lite (RGB + Stereo Depth Camera)

**–ü–æ–ª–æ–∂–µ–Ω–∏–µ –≤ Fusion 360:**
```yaml
position:
  x: -0.1802 m  # 180.2 mm –Ω–∞–∑–∞–¥ –æ—Ç origin
  y:  0.1076 m  # 107.6 mm –≤–ª–µ–≤–æ
  z:  0.4115 m  # 411.5 mm –≤–≤–µ—Ä—Ö

size:
  length_x: 0.0910 m  # 91 mm (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ 92mm)
  width_y:  0.0175 m  # 17.5 mm (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ 17mm)
  height_z: 0.0280 m  # 28 mm (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
```

**–î–ª—è URDF (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ base_link):**
```xml
<origin xyz="-0.1802 0.1076 0.4115" rpy="0 0 0"/>
```

---

### Raspberry Pi Camera (Ceiling Navigation)

**–ü–æ–ª–æ–∂–µ–Ω–∏–µ –≤ Fusion 360:**
```yaml
position:
  x: -0.1130 m  # 113 mm –Ω–∞–∑–∞–¥ –æ—Ç origin
  y:  0.1712 m  # 171.2 mm –≤–ª–µ–≤–æ (—Ä—è–¥–æ–º —Å –ª–∏–¥–∞—Ä–æ–º)
  z:  0.4390 m  # 439 mm –≤–≤–µ—Ä—Ö

size:
  width:  0.0280 m  # 28 mm
  length: 0.0280 m  # 28 mm
  height: 0.0200 m  # 20 mm
```

**–û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è:** –°–º–æ—Ç—Ä–∏—Ç –í–í–ï–†–• (pitch = œÄ/2 —Ä–∞–¥–∏–∞–Ω)

**–î–ª—è URDF (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ base_link):**
```xml
<origin xyz="-0.1130 0.1712 0.4390" rpy="0 1.5708 0"/>
<!-- pitch = 1.5708 rad = 90¬∞ - —Å–º–æ—Ç—Ä–∏—Ç –≤–≤–µ—Ä—Ö -->
```

---

## üõû –ö–æ–ª–µ—Å–∞

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–ª–µ—Å

```yaml
radius: 0.115 m  # 115 mm (230 mm diameter = 10 inches)
width:  0.135 m  # –®–∏—Ä–∏–Ω–∞ –∫–æ–ª–µ—Å–∞/—Ä—ã—á–∞–≥–∞

# ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–æ–ª–µ—Å –≤ STL –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ!
# –í—Å–µ 4 –∫–æ–ª–µ—Å–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é –≤ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö STL
# –ù—É–∂–Ω–æ –∏–∑–º–µ—Ä–∏—Ç—å wheelbase –∏ track_width –≤—Ä—É—á–Ω—É—é
```

### –ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ—Ä–∏—Ç—å –≤ Fusion 360:

1. **Wheelbase** (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –æ—Å—è–º–∏):
   - –ò–∑–º–µ—Ä—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –ø–µ—Ä–µ–¥–Ω–µ–≥–æ –∫–æ–ª–µ—Å–∞ –¥–æ —Ü–µ–Ω—Ç—Ä–∞ –∑–∞–¥–Ω–µ–≥–æ –ø–æ –æ—Å–∏ X
   - –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ URDF: 0.28934 –º

2. **Track Width** (—à–∏—Ä–∏–Ω–∞ –∫–æ–ª–µ–∏):
   - –ò–∑–º–µ—Ä—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –ª–µ–≤–æ–≥–æ –∫–æ–ª–µ—Å–∞ –¥–æ —Ü–µ–Ω—Ç—Ä–∞ –ø—Ä–∞–≤–æ–≥–æ –ø–æ –æ—Å–∏ Y
   - –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ URDF: 0.360 –º

### –ü–æ–ª–æ–∂–µ–Ω–∏–µ –∫–æ–ª–µ—Å (–¢–†–ï–ë–£–ï–¢–°–Ø –£–¢–û–ß–ù–ï–ù–ò–ï):

```yaml
# –ù–∞ –æ—Å–Ω–æ–≤–µ rockers (–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å):
rocker_left_center:
  x:  0.0225 m
  y: -0.0014 m
  z:  0.0007 m

rocker_right_center:
  x:  0.0225 m
  y: -0.1452 m
  z:  0.0036 m

# –ò–∑ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å track_width:
track_width ‚âà 0.1438 m  # –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ä–æ–∫–µ—Ä–∞–º–∏ –ø–æ Y

# ‚ö†Ô∏è –≠—Ç–æ –ù–ï —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–∫—É—â–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º 0.360 –º!
# –ù—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ Fusion 360
```

---

## üéØ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### Head Connector (–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å–µ–Ω—Å–æ—Ä–æ–≤?)
```yaml
position:
  x: -0.1550 m
  y:  0.1303 m
  z:  0.4080 m

size:
  x: 0.0140 m
  y: 0.0040 m
  z: 0.0700 m  # –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç 70mm
```

### Horn Speaker (–¥–∏–Ω–∞–º–∏–∫?)
```yaml
position:
  x: -0.1800 m
  y:  0.1863 m
  z:  0.3080 m

size:
  x: 0.4449 m
  y: 0.1897 m
  z: 0.2700 m
```

### Charging Port
```yaml
position:
  x: -0.0994 m
  y:  0.0226 m
  z: -0.0200 m  # –ù–∏–∂–µ base_link

size:
  x: 0.1429 m
  y: 0.0295 m
  z: 0.0260 m
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å —Ç–µ–∫—É—â–∏–º URDF

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å rob_box_main.xacro:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–µ–∫—É—â–∏–π URDF | STL Analysis | –°—Ç–∞—Ç—É—Å |
|----------|--------------|--------------|--------|
| Base length | 0.4757 m | 0.4757 m | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç |
| Base width | 0.238 m | 0.230 m | ‚ö†Ô∏è –†–∞–∑–ª–∏—á–∏–µ |
| Base height | 0.1885 m | 0.155 m | ‚ö†Ô∏è –†–∞–∑–ª–∏—á–∏–µ |
| Wheel radius | 0.115 m | 0.115 m | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç |
| LSLIDAR position | TODO | x=-0.180, y=0.171, z=0.462 | üìù –û–±–Ω–æ–≤–∏—Ç—å |
| OAK-D position | TODO | x=-0.180, y=0.108, z=0.412 | üìù –û–±–Ω–æ–≤–∏—Ç—å |
| RPi Camera position | TODO | x=-0.113, y=0.171, z=0.439 | üìù –û–±–Ω–æ–≤–∏—Ç—å |

---

## üìù –î–µ–π—Å—Ç–≤–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è URDF

### 1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å–µ–Ω—Å–æ—Ä–æ–≤

–ó–∞–º–µ–Ω–∏—Ç—å –≤ `src/rob_box_description/urdf/sensors/rob_box_sensors.xacro`:

```xml
<!-- LSLIDAR N10 -->
<xacro:lslidar_n10 parent_link="base_link" 
                   xyz="-0.1803 0.1713 0.4620"  <!-- ‚Üê –û–ë–ù–û–í–õ–ï–ù–û -->
                   rpy="0 0 0"/>

<!-- OAK-D-Lite -->
<xacro:oak_d_lite parent_link="base_link" 
                  xyz="-0.1802 0.1076 0.4115"  <!-- ‚Üê –û–ë–ù–û–í–õ–ï–ù–û -->
                  rpy="0 0 0"/>

<!-- RPi Camera (ceiling) -->
<xacro:rpi_camera_ceiling parent_link="base_link" 
                          xyz="-0.1130 0.1712 0.4390"/>  <!-- ‚Üê –û–ë–ù–û–í–õ–ï–ù–û -->
                          <!-- rpy="0 1.5708 0" —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω -->
```

### 2. –£—Ç–æ—á–Ω–∏—Ç—å wheelbase –∏ track_width

**–ù—É–∂–Ω–æ –∏–∑–º–µ—Ä–∏—Ç—å –≤ Fusion 360:**

1. –û—Ç–∫—Ä–æ–π —Å–±–æ—Ä–∫—É –≤ Fusion 360
2. –ò—Å–ø–æ–ª—å–∑—É–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç "Measure" (M)
3. –ò–∑–º–µ—Ä—å:
   - **Wheelbase:** –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –ø–µ—Ä–µ–¥–Ω–µ–≥–æ –∫–æ–ª–µ—Å–∞ –¥–æ —Ü–µ–Ω—Ç—Ä–∞ –∑–∞–¥–Ω–µ–≥–æ (–ø–æ X)
   - **Track Width:** –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –ª–µ–≤–æ–≥–æ –∫–æ–ª–µ—Å–∞ –¥–æ —Ü–µ–Ω—Ç—Ä–∞ –ø—Ä–∞–≤–æ–≥–æ (–ø–æ Y)

4. –û–±–Ω–æ–≤–∏ –≤ `rob_box_main.xacro`:
```xml
<xacro:property name="wheelbase" value="???"/>      <!-- –ò–∑–º–µ—Ä–∏—Ç—å! -->
<xacro:property name="track_width" value="???"/>    <!-- –ò–∑–º–µ—Ä–∏—Ç—å! -->
```

5. –û–±–Ω–æ–≤–∏ –≤ `controller_manager.yaml`:
```yaml
diff_drive_controller:
  ros__parameters:
    wheel_separation: ???  # = track_width
```

---

## üîç –ó–∞–º–µ—á–∞–Ω–∏—è

### ‚úÖ –•–æ—Ä–æ—à–æ:
- –†–∞–∑–º–µ—Ä—ã —Å–µ–Ω—Å–æ—Ä–æ–≤ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏
- –†–∞–¥–∏—É—Å –∫–æ–ª–µ—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (0.115 –º = 10")
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å–µ–Ω—Å–æ—Ä–æ–≤ –∏–∑–≤–ª–µ—á–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è:
- STL –∫–æ–ª–µ—Å –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–≤—Å–µ –≤ –æ–¥–Ω–æ–π —Ç–æ—á–∫–µ)
- –†–∞–∑–º–µ—Ä—ã base_link –Ω–µ–º–Ω–æ–≥–æ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è
- Wheelbase –∏ track_width –Ω—É–∂–Ω–æ –∏–∑–º–µ—Ä–∏—Ç—å –≤—Ä—É—á–Ω—É—é –≤ Fusion 360

### üìå –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å–µ–Ω—Å–æ—Ä–æ–≤ –≤ URDF ‚úÖ (–¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å)
2. –ò–∑–º–µ—Ä–∏—Ç—å wheelbase –∏ track_width –≤ Fusion 360
3. –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º —Ä–æ–±–æ—Ç–æ–º

---

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- **numpy-stl:** –ê–Ω–∞–ª–∏–∑ STL —Ñ–∞–π–ª–æ–≤
- **Python script:** `scripts/analyze_stl_meshes.py`
- **Fusion 360 Export:** STL meshes

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:**
```bash
python3 scripts/analyze_stl_meshes.py
```
