# Animation Editor v2 - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## üé® –û–±–∑–æ—Ä

Animation Editor v2 - –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è LED –∞–Ω–∏–º–∞—Ü–∏–π –¥–ª—è —Ä–æ–±–æ—Ç–∞ –†–û–ë–ë–û–ö–° —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π **–∫–ª—é—á–µ–≤—ã—Ö –∫–∞–¥—Ä–æ–≤ (keyframes)**. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∏–∫—Å–µ–ª–∏ –≤—Å–µ—Ö LED –º–∞—Ç—Ä–∏—Ü –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–Ω–∏–º–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ timeline, –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ YAML + PNG.

**–ù–æ–≤–æ–µ –≤ v2:**
- ‚ú® Keyframe-based –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–≤–º–µ—Å—Ç–æ frame-by-frame)
- üéØ –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–∞–Ω–µ–ª–µ–π
- üìç –ß–µ–∫–±–æ–∫—Å—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞–Ω–µ–ª–µ–π
- üîÑ –ê–≤—Ç–æ–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
- üíæ –ó–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–Ω–∏–º–∞—Ü–∏–π

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### ‚ö° –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è Windows (–æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞!)

–û—Ç–∫—Ä–æ–π—Ç–µ **PowerShell** –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```powershell
irm https://raw.githubusercontent.com/krikz/rob_box_project/feature/voice-assistant/tools/animation_editor/install_and_run.ps1 | iex
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç Python 3.8+
- ‚úÖ –°–∫–∞—á–∞–µ—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (pillow, numpy, pyyaml)
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –ø–∞–ø–∫—É –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** Python 3.8+ —Å pip ([—Å–∫–∞—á–∞—Ç—å](https://www.python.org/downloads/))

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –°–º. [tools/animation_editor/INSTALL_WINDOWS.md](../../tools/animation_editor/INSTALL_WINDOWS.md)

### üêß –ó–∞–ø—É—Å–∫ –Ω–∞ Linux/ROS2

```bash
cd ~/rob_box_project
python3 tools/animation_editor/main.py --animations-dir src/rob_box_animations/animations
```

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
pip install pillow numpy pyyaml
```

## üìù –û—Å–Ω–æ–≤–Ω–æ–π workflow (Keyframe-Based)

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏

1. `File ‚Üí New Animation` (–∏–ª–∏ `Ctrl+N`)
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ **‚öôÔ∏è PROPERTIES**:
   - **Name**: –∏–º—è –∞–Ω–∏–º–∞—Ü–∏–∏ (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä `happy_face`)
   - **Description**: –æ–ø–∏—Å–∞–Ω–∏–µ (`Happy robot face animation`)
   - **FPS**: —á–∞—Å—Ç–æ—Ç–∞ –∫–∞–¥—Ä–æ–≤ (–æ–±—ã—á–Ω–æ 10)
   - **Loop**: –∑–∞—Ü–∏–∫–ª–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é (–æ–±—ã—á–Ω–æ ‚úì)

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –∫–∞–¥—Ä–æ–≤

–í –Ω–∏–∂–Ω–µ–π –ø–∞–Ω–µ–ª–∏ **TIMELINE**:

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **+ Add Keyframe** - –¥–æ–±–∞–≤–∏—Ç—Å—è –∫–ª—é—á–µ–≤–æ–π –∫–∞–¥—Ä –≤ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —Å–ª–∞–π–¥–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ **Time** –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–æ–º–µ–Ω—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 500ms)
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ keyframes –≤ –Ω—É–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã
4. –ö–Ω–æ–ø–∫–∞ **üóëÔ∏è Delete Keyframe** - —É–¥–∞–ª–∏—Ç—å —Ç–µ–∫—É—â–∏–π keyframe (–µ—Å–ª–∏ –∏—Ö –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ)

**Keyframes –Ω–∞ timeline:**
- üü¢ –ó–µ–ª–µ–Ω–∞—è —Ç–æ—á–∫–∞ - —Ç–µ–∫—É—â–∏–π –≤—ã–±—Ä–∞–Ω–Ω—ã–π keyframe
- üü† –û—Ä–∞–Ω–∂–µ–≤–∞—è —Ç–æ—á–∫–∞ - –æ—Å—Ç–∞–ª—å–Ω—ã–µ keyframes
- üî¥ –ö—Ä–∞—Å–Ω–∞—è –ª–∏–Ω–∏—è - —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

### 3. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–∞–Ω–µ–ª–µ–π –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–í –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ **üé® Active Panels** (–ø–æ–¥ Properties):

–í–∫–ª—é—á–∏—Ç–µ —á–µ–∫–±–æ–∫—Å—ã –Ω—É–∂–Ω—ã—Ö –ø–∞–Ω–µ–ª–µ–π:
- **üî¥ FL Wheel** - –õ–µ–≤–æ–µ –ø–µ—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–µ—Å–æ (8√ó8)
- **üî¥ FR Wheel** - –ü—Ä–∞–≤–æ–µ –ø–µ—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–µ—Å–æ (8√ó8)
- **üîµ RL Wheel** - –õ–µ–≤–æ–µ –∑–∞–¥–Ω–µ–µ –∫–æ–ª–µ—Å–æ (8√ó8)
- **üîµ RR Wheel** - –ü—Ä–∞–≤–æ–µ –∑–∞–¥–Ω–µ–µ –∫–æ–ª–µ—Å–æ (8√ó8)
- **üü¢ Main Display** - –ì–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–ª–µ–π "—Ä–æ—Ç" (25√ó5)

üí° **–í–∞–∂–Ω–æ:** –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –æ–Ω–∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –∞–Ω–∏–º–∞—Ü–∏–∏!

üí° **–ü–æ–¥—Å–∫–∞–∑–∫–∞:** –ï—Å–ª–∏ —á–µ–∫–±–æ–∫—Å—ã –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã (—Å–µ—Ä—ã–µ), —Å–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ keyframe!

### 4. –†–∏—Å–æ–≤–∞–Ω–∏–µ

1. –í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ **COLOR PALETTE**:
   - 8 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤: White, Red, Green, Blue, Yellow, Cyan, Magenta, Black
   
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ LED –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ canvas:
   - –û–¥–∏–Ω–æ—á–Ω—ã–π –∫–ª–∏–∫ - –∑–∞–∫—Ä–∞—Å–∏—Ç—å –æ–¥–∏–Ω –ø–∏–∫—Å–µ–ª—å
   - –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –º—ã—à–∏ - —Ä–∏—Å–æ–≤–∞—Ç—å –ª–∏–Ω–∏–∏
   - ‚ùó –†–∏—Å–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –Ω–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–∞–Ω–µ–ª—è—Ö** (—Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º —á–µ–∫–±–æ–∫—Å–æ–º)

3. –î–ª—è —Å—Ç–∏—Ä–∞–Ω–∏—è –≤—ã–±–µ—Ä–∏—Ç–µ —á–µ—Ä–Ω—ã–π —Ü–≤–µ—Ç (Black)

**–ü–æ–ª–µ–∑–Ω—ã–µ –ø—Ä–∏–µ–º—ã:**
- `Edit ‚Üí Clear Frame` - –æ—á–∏—Å—Ç–∏—Ç—å —Ç–µ–∫—É—â–∏–π keyframe
- `Edit ‚Üí Fill Frame` - –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–º —Ü–≤–µ—Ç–æ–º

### 5. –°–æ–∑–¥–∞–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–¥—Ä–æ–≤

**–ü—Ä–∏–º–µ—Ä:** –ú–∏–≥–∞—é—â–∏–π —Å–º–∞–π–ª–∏–∫

1. **Keyframe 0ms:** –ù–∞—Ä–∏—Å—É–π—Ç–µ —Å—á–∞—Å—Ç–ª–∏–≤–æ–µ –ª–∏—Ü–æ –Ω–∞ main_display
2. **Keyframe 500ms:** –°–¥–≤–∏–Ω—å—Ç–µ —Å–ª–∞–π–¥–µ—Ä –Ω–∞ 500ms, –¥–æ–±–∞–≤—å—Ç–µ keyframe
3. **Keyframe 500ms:** –ò–∑–º–µ–Ω–∏—Ç–µ —Ä–æ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ–Ω—å—à–µ)
4. **Keyframe 1000ms:** –°–¥–≤–∏–Ω—å—Ç–µ –Ω–∞ 1000ms, –¥–æ–±–∞–≤—å—Ç–µ keyframe
5. **Keyframe 1000ms:** –í–µ—Ä–Ω–∏—Ç–µ —Å—á–∞—Å—Ç–ª–∏–≤–æ–µ –ª–∏—Ü–æ
6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Duration = 1000ms, Loop = ‚úì
7. –ù–∞–∂–º–∏—Ç–µ **‚ñ∂Ô∏è Play** –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞

### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- **Time slider** - —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è (0 - duration_ms)
- **Duration** - –æ–±—â–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
  - –ò–∑–º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ spinbox –≤–Ω–∏–∑—É timeline
  - –î–∏–∞–ø–∞–∑–æ–Ω: 100-60000ms
- Keyframes –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏

### 7. –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä

- –ö–Ω–æ–ø–∫–∞ **‚ñ∂Ô∏è Play** –≤ toolbar - –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏—é
- –í–æ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω Loop
- –ù–∞–∂–º–∏—Ç–µ **‚ñ∂Ô∏è** –µ—â–µ —Ä–∞–∑ –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

### 8. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:**
- `File ‚Üí Save` (–∏–ª–∏ `Ctrl+S`) - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –∞–Ω–∏–º–∞—Ü–∏—é
- `File ‚Üí Save As` (–∏–ª–∏ `Ctrl+Shift+S`) - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–¥ –Ω–æ–≤—ã–º –∏–º–µ–Ω–µ–º
- –§–æ—Ä–º–∞—Ç: keyframe-based YAML + PNG –∫–∞–¥—Ä—ã

**–ó–∞–≥—Ä—É–∑–∫–∞:**
- `File ‚Üí Open` (–∏–ª–∏ `Ctrl+O`) - –æ—Ç–∫—Ä—ã—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∞–Ω–∏–º–∞—Ü–∏—é
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ **—Å—Ç–∞—Ä–æ–≥–æ frame-based —Ñ–æ—Ä–º–∞—Ç–∞**
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ keyframes
  - –°–æ–∑–¥–∞–µ—Ç—Å—è keyframe –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:**
```
animations/
‚îú‚îÄ‚îÄ manifests/
‚îÇ   ‚îî‚îÄ‚îÄ my_animation.yaml    # –ú–∞–Ω–∏—Ñ–µ—Å—Ç —Å keyframes
‚îî‚îÄ‚îÄ frames/
    ‚îî‚îÄ‚îÄ my_animation/
        ‚îú‚îÄ‚îÄ kf000_wheel_front_left.png    # Keyframe 0, –ª–µ–≤–æ–µ –ø–µ—Ä–µ–¥–Ω–µ–µ
        ‚îú‚îÄ‚îÄ kf000_main_display.png        # Keyframe 0, –≥–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–ª–µ–π
        ‚îú‚îÄ‚îÄ kf001_wheel_front_left.png    # Keyframe 1
        ‚îî‚îÄ‚îÄ ...
```

**–§–æ—Ä–º–∞—Ç –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ (–Ω–æ–≤—ã–π):**
```yaml
name: happy_face
description: Happy robot face animation
duration_ms: 1000
fps: 10
loop: true
format: keyframe  # –ú–∞—Ä–∫–µ—Ä –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
keyframes:
  - time_ms: 0
    panels:
      - panel: main_display
        image: frames/happy_face/kf000_main_display.png
        active: true
  - time_ms: 500
    panels:
      - panel: main_display
        image: frames/happy_face/kf001_main_display.png
        active: true
```

## üéØ –ü–∞–Ω–µ–ª–∏ —Ä–æ–±–æ—Ç–∞

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ LED –º–∞—Ç—Ä–∏—Ü

```
         ‚Üë FRONT ‚Üë
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   MOUTH (25√ó5)  ‚îÇ ‚Üê –ì–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–ª–µ–π (üü¢ Main Display)
    ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ    –í—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ–µ –ª–∏—Ü–æ, —Ç–µ–∫—Å—Ç
    ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
FL  ‚îÇ                 ‚îÇ  FR ‚Üê –ü–µ—Ä–µ–¥–Ω–∏–µ –∫–æ–ª–µ—Å–∞ (üî¥ FL/FR Wheel)
8√ó8 ‚îÇ                 ‚îÇ 8√ó8   –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, –∞–Ω–∏–º–∞—Ü–∏–∏
    ‚îÇ                 ‚îÇ
    ‚îÇ     –ö–û–†–ü–£–°      ‚îÇ
    ‚îÇ                 ‚îÇ
RL  ‚îÇ                 ‚îÇ  RR ‚Üê –ó–∞–¥–Ω–∏–µ –∫–æ–ª–µ—Å–∞ (üîµ RL/RR Wheel)
8√ó8 ‚îÇ                 ‚îÇ 8√ó8   –ü–æ–≤–æ—Ä–æ—Ç–Ω–∏–∫–∏, —Å—Ç–æ–ø-—Å–∏–≥–Ω–∞–ª—ã
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –†–∞–∑–º–µ—Ä—ã –ø–∞–Ω–µ–ª–µ–π

| –ü–∞–Ω–µ–ª—å | –†–∞–∑–º–µ—Ä | –ü–∏–∫—Å–µ–ª–∏ | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|--------|--------|---------|------------|
| wheel_front_left | 8√ó8 | 64 | –õ–µ–≤–æ–µ –ø–µ—Ä–µ–¥–Ω–µ–µ - –∞–Ω–∏–º–∞—Ü–∏–∏, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã |
| wheel_front_right | 8√ó8 | 64 | –ü—Ä–∞–≤–æ–µ –ø–µ—Ä–µ–¥–Ω–µ–µ - –∞–Ω–∏–º–∞—Ü–∏–∏, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã |
| wheel_rear_left | 8√ó8 | 64 | –õ–µ–≤–æ–µ –∑–∞–¥–Ω–µ–µ - –ø–æ–≤–æ—Ä–æ—Ç–Ω–∏–∫–∏, —Å—Ç–æ–ø |
| wheel_rear_right | 8√ó8 | 64 | –ü—Ä–∞–≤–æ–µ –∑–∞–¥–Ω–µ–µ - –ø–æ–≤–æ—Ä–æ—Ç–Ω–∏–∫–∏, —Å—Ç–æ–ø |
| main_display | 25√ó5 | 125 | –ì–ª–∞–≤–Ω—ã–π –¥–∏—Å–ø–ª–µ–π - –ª–∏—Ü–æ, —Ç–µ–∫—Å—Ç, —ç–º–æ—Ü–∏–∏ |

## ‚å®Ô∏è –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

| –ö–ª–∞–≤–∏—à–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|----------|
| `Ctrl+N` | –ù–æ–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è |
| `Ctrl+O` | –û—Ç–∫—Ä—ã—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é |
| `Ctrl+S` | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å |
| `Ctrl+Shift+S` | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ |
| `Ctrl+Q` | –í—ã—Ö–æ–¥ |
| Click on canvas | –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –ø–∏–∫—Å–µ–ª—å |
| Drag on canvas | –†–∏—Å–æ–≤–∞—Ç—å –ª–∏–Ω–∏—é |

## üí° –°–æ–≤–µ—Ç—ã –∏ –ø—Ä–∏—ë–º—ã

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π –¥–ª—è –∫–æ–ª–µ—Å

1. –ù–∞—Ä–∏—Å—É–π—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—é –¥–ª—è **FL Wheel** (–ª–µ–≤–æ–µ –ø–µ—Ä–µ–¥–Ω–µ–µ)
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª
3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∫–∞—Ä—Ç–∏–Ω–æ–∫, –æ—Ç–∑–µ—Ä–∫–∞–ª—å—Ç–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è **FR Wheel** (–ø—Ä–∞–≤–æ–µ –ø–µ—Ä–µ–¥–Ω–µ–µ)

### –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

1. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑–æ–≤—É—é –∞–Ω–∏–º–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Ä–∞—â–µ–Ω–∏–µ)
2. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤—Å–µ 4 –∫–æ–ª–µ—Å–∞
3. –ù–∞—Ä–∏—Å—É–π—Ç–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ —à–∞–±–ª–æ–Ω

### –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ keyframes
- –ü—Ä–∏–º–µ—Ä: 0ms (–∑–∞–∫—Ä—ã—Ç–æ) ‚Üí 250ms (–ø–æ–ª—É–æ—Ç–∫—Ä—ã—Ç–æ) ‚Üí 500ms (–æ—Ç–∫—Ä—ã—Ç–æ)
- –ë–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ keyframes = –±–æ–ª–µ–µ –ø–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–∞–Ω–µ–ª–µ–π

- –î–æ–±–∞–≤—å—Ç–µ keyframe –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, 500ms)
- –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞–Ω–µ–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Å–µ 4 –∫–æ–ª–µ—Å–∞)
- –ù–∞—Ä–∏—Å—É–π—Ç–µ –Ω–∞ –≤—Å–µ—Ö - –æ–Ω–∏ –±—É–¥—É—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –≤—Ä–µ–º–µ–Ω–∏

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ß–µ–∫–±–æ–∫—Å—ã –ø–∞–Ω–µ–ª–µ–π –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã (—Å–µ—Ä—ã–µ)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –º–æ–≥—É –≤–∫–ª—é—á–∏—Ç—å –ø–∞–Ω–µ–ª–∏  
**–†–µ—à–µ–Ω–∏–µ:** –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ keyframe –∫–Ω–æ–ø–∫–æ–π "Add Keyframe"

### –ù–µ –º–æ–≥—É —Ä–∏—Å–æ–≤–∞—Ç—å –Ω–∞ –ø–∞–Ω–µ–ª–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–ª–∏–∫–∏ –ø–æ canvas –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç  
**–†–µ—à–µ–Ω–∏–µ:** 
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ keyframe –¥–æ–±–∞–≤–ª–µ–Ω
2. –í–∫–ª—é—á–∏—Ç–µ —á–µ–∫–±–æ–∫—Å –Ω—É–∂–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –≤ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ (üé® Active Panels)
3. –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ê–Ω–∏–º–∞—Ü–∏—è –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** Play –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç  
**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã 2 keyframes
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Duration > 0
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –ø–∞–Ω–µ–ª—å –∞–∫—Ç–∏–≤–Ω–∞

### –°—Ç–∞—Ä–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ .yaml —Ñ–∞–π–ª–∞  
**–†–µ—à–µ–Ω–∏–µ:** 
- –†–µ–¥–∞–∫—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ persist, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ Python traceback
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ PNG —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ

### Python –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

**Windows:**
```powershell
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip uninstall pillow numpy pyyaml -y
pip install pillow numpy pyyaml
```

**Linux:**
```bash
pip3 install --user --upgrade pillow numpy pyyaml
```

## üéì –ü—Ä–∏–º–µ—Ä—ã workflow

### –ü—Ä–∏–º–µ—Ä 1: Happy Face (–ø—Ä–æ—Å—Ç–∞—è —ç–º–æ—Ü–∏—è)

1. New Animation: name=`happy_face`, fps=10, loop=true
2. Add Keyframe (0ms)
3. Enable: üü¢ Main Display
4. Select: White color
5. Draw eyes: –¥–≤–∞ –ø–∏–∫—Å–µ–ª—è –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏
6. Draw smile: –∏–∑–æ–≥–Ω—É—Ç–∞—è –ª–∏–Ω–∏—è –≤–Ω–∏–∑—É
7. Save

### –ü—Ä–∏–º–µ—Ä 2: Turn Signal (–ø–æ–≤–æ—Ä–æ—Ç–Ω–∏–∫)

1. New Animation: name=`turn_left`, fps=10, loop=true
2. Add Keyframe (0ms)
   - Enable: üîµ RL Wheel (–∑–∞–¥–Ω–µ–µ –ª–µ–≤–æ–µ)
   - Select: Yellow
   - Draw: —Å—Ç—Ä–µ–ª–∫–∞ –≤–ª–µ–≤–æ
3. Add Keyframe (500ms)
   - Same, but brighter or full fill
4. Duration = 1000ms
5. Save

### –ü—Ä–∏–º–µ—Ä 3: Synchronized Wheel Spin

1. New Animation: name=`wheel_spin`, fps=20, loop=true
2. Add Keyframe (0ms)
   - Enable: –≤—Å–µ 4 –∫–æ–ª–µ—Å–∞
   - Draw: –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è
3. Add Keyframe (50ms)
   - Draw: –¥–∏–∞–≥–æ–Ω–∞–ª—å /
4. Add Keyframe (100ms)
   - Draw: –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å ‚Äî
5. Add Keyframe (150ms)
   - Draw: –¥–∏–∞–≥–æ–Ω–∞–ª—å \
6. Duration = 200ms
7. Save

### –ü—Ä–∏–º–µ—Ä 4: Talking Animation

1. New Animation: name=`talking`, fps=15, loop=true
2. Keyframe 0ms: —Ä–æ—Ç –∑–∞–∫—Ä—ã—Ç (small line)
3. Keyframe 100ms: —Ä–æ—Ç –ø–æ–ª—É–æ—Ç–∫—Ä—ã—Ç (bigger line)
4. Keyframe 200ms: —Ä–æ—Ç –æ—Ç–∫—Ä—ã—Ç (wide mouth)
5. Keyframe 300ms: –ø–æ–ª—É–æ—Ç–∫—Ä—ã—Ç
6. Keyframe 400ms: –∑–∞–∫—Ä—ã—Ç
7. Duration = 500ms

## üì¶ –≠–∫—Å–ø–æ—Ä—Ç –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ ROS2

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ `src/rob_box_animations/animations/manifests/`
2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ ROS2 –ø–∞–∫–µ—Ç:
   ```bash
   cd ~/rob_box_project
   colcon build --packages-select rob_box_animations
   ```
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ ROS2:
   ```python
   from rob_box_animations import AnimationPlayer
   
   player = AnimationPlayer()
   player.load_animation('happy_face')
   player.play()
   ```

## üîó –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **–û—Å–Ω–æ–≤–Ω–æ–π README:** [tools/animation_editor/README.md](../../tools/animation_editor/README.md)
- **Windows —É—Å—Ç–∞–Ω–æ–≤–∫–∞:** [tools/animation_editor/INSTALL_WINDOWS.md](../../tools/animation_editor/INSTALL_WINDOWS.md)
- **–ü—Ä–∏–º–µ—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–π:** `src/rob_box_animations/animations/manifests/`

## üìß –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª "üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º" –≤—ã—à–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ issue –Ω–∞ GitHub
3. –ü—Ä–∏–ª–æ–∂–∏—Ç–µ traceback –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
