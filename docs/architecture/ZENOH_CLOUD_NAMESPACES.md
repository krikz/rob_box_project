# Zenoh: –û–±–ª–∞—á–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Namespace

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–§—É–Ω–∫—Ü–∏—è Zenoh Namespace](#—Ñ—É–Ω–∫—Ü–∏—è-zenoh-namespace)
- [–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è](#—Ç–µ–∫—É—â–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- [–û–±–ª–∞—á–Ω–∞—è —Ç–æ–ø–æ–ª–æ–≥–∏—è](#–æ–±–ª–∞—á–Ω–∞—è-—Ç–æ–ø–æ–ª–æ–≥–∏—è)
- [–î–µ—Ç–∞–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](#–¥–µ—Ç–∞–ª–∏-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
- [–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç](#–∫–∞–∫-—ç—Ç–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–≤–∞–ª–∏–¥–∞—Ü–∏—è)
- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)

---

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–±—ä—è—Å–Ω—è–µ—Ç, –∫–∞–∫ —Ä–æ–±–æ—Ç Rob Box –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –æ–±–ª–∞—á–Ω—ã–º Zenoh —Ä–æ—É—Ç–µ—Ä–æ–º –Ω–∞ `zenoh.robbox.online:7447`, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é **namespace** Zenoh –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ä–æ–±–æ—Ç–æ–≤.

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

1. **Zenoh Namespace**: –ü—Ä–µ—Ñ–∏–∫—Å, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º—ã–π –∫–æ –≤—Å–µ–º –∫–ª—é—á–µ–≤—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º (—Ç–æ–ø–∏–∫–∞–º)
2. **Robot ID**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞–∂–¥–æ–≥–æ —Ä–æ–±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `RBXU100001`)
3. **Cloud Router**: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π Zenoh —Ä–æ—É—Ç–µ—Ä –Ω–∞ `zenoh.robbox.online:7447`
4. **–ò–∑–æ–ª—è—Ü–∏—è —Ç–æ–ø–∏–∫–æ–≤**: –¢–æ–ø–∏–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Ä–æ–±–æ—Ç–∞ –∏–º–µ—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å `robots/{ROBOT_ID}/`

---

## –§—É–Ω–∫—Ü–∏—è Zenoh Namespace

### –ß—Ç–æ —Ç–∞–∫–æ–µ Zenoh Namespace?

–ò–∑ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Zenoh](https://github.com/eclipse-zenoh/zenoh/blob/main/DEFAULT_CONFIG.json5):

> **–ü—Ä–µ—Ñ–∏–∫—Å namespace.**
> –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω, –≤—Å–µ –∏—Å—Ö–æ–¥—è—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π,
> –∞ –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –æ—á–∏—â–µ–Ω—ã –æ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø—Ä–µ—Ñ–∏–∫—Å–∞.
> 
> –ü—Ä–µ—Ñ–∏–∫—Å namespace –¥–æ–ª–∂–µ–Ω —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å –≤—Å–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º –∫–ª—é—á–µ–≤—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –∏ –Ω–µ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–∏–º–≤–æ–ª—ã –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ ('*').
> 
> Namespace –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Å–µ—Å—Å–∏–∏.
> –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —Å–µ—Å—Å–∏—è –∏–º–µ–µ—Ç namespace "1", —Ç–æ `session.put("my/keyexpr", my_message)` –ø–æ–º–µ—Å—Ç–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ `1/my/keyexpr`. –¢–æ –∂–µ —Å–∞–º–æ–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –æ–ø–µ—Ä–∞—Ü–∏—è–º –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

```
–ë–µ–∑ namespace:
  –ü—É–±–ª–∏–∫–∞—Ü–∏—è:  /cmd_vel       ‚Üí  Zenoh:  /cmd_vel
  –ü–æ–¥–ø–∏—Å–∫–∞:    /odom          ‚Üí  Zenoh:  /odom

–° namespace "robots/RBXU100001":
  –ü—É–±–ª–∏–∫–∞—Ü–∏—è:  /cmd_vel       ‚Üí  Zenoh:  robots/RBXU100001/cmd_vel
  –ü–æ–¥–ø–∏—Å–∫–∞:    /odom          ‚Üí  Zenoh:  robots/RBXU100001/odom
  
  –ù–û —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ä–æ–±–æ—Ç–∞, —Ç–æ–ø–∏–∫–∏ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É /cmd_vel –∏ /odom!
  Namespace –ø—Ä–æ–∑—Ä–∞—á–µ–Ω –¥–ª—è ROS 2 –Ω–æ–¥.
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è —Ç–æ–ø–∏–∫–æ–≤ –º–µ–∂–¥—É —Ä–æ–±–æ—Ç–∞–º–∏
- ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–ª—è ROS 2 –∫–æ–¥–∞ (–∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è)
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±–ª–∞–∫–∞: –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ `robots/**`
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞: –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ `robots/RBXU100001/**`
- ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å ROS_DOMAIN_ID

---

## –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Robot ID

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `docker/vision/.env` –∏ `docker/main/.env`

```bash
# Robot ID –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ namespace
ROBOT_ID=RBXU100001
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ–æ—Ä–º–∞—Ç—É:**
- –¢–æ–ª—å–∫–æ –±—É–∫–≤–µ–Ω–Ω–æ-—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã
- –ë–µ–∑ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤, –∫—Ä–æ–º–µ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–æ–±–æ—Ç–∞
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç: `RBXU` + 6 —Ü–∏—Ñ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `RBXU100001`, `RBXU100002`)

### –°–∫—Ä–∏–ø—Ç-–æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è Namespace

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `docker/vision/scripts/ros_with_namespace.sh`

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
1. –ß–∏—Ç–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `ROBOT_ID`
2. –ö–æ–ø–∏—Ä—É–µ—Ç –±–∞–∑–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ—Å—Å–∏–∏ –≤ `/tmp/zenoh_session_config.json5`
3. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `namespace: "robots/{ROBOT_ID}"`
4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `ZENOH_SESSION_CONFIG_URI` –Ω–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
5. –ó–∞–ø—É—Å–∫–∞–µ—Ç ROS –Ω–æ–¥—É

**–ö–ª—é—á–µ–≤–æ–π –∫–æ–¥:**
```bash
# –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ–º –∏ –∑–∞–º–µ–Ω—è–µ–º namespace
sed -i "s|// namespace: \"my/namespace\"|namespace: \"robots/$ROBOT_ID\"|g" "$GENERATED_CONFIG"

# –û–±–Ω–æ–≤–ª—è–µ–º ZENOH_SESSION_CONFIG_URI –Ω–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
export ZENOH_SESSION_CONFIG_URI="$GENERATED_CONFIG"
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Docker Compose

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `docker/vision/docker-compose.yaml`

–í—Å–µ ROS —Å–µ—Ä–≤–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—ë—Ä—Ç–∫—É:

```yaml
oak-d:
  environment:
    - ROBOT_ID=${ROBOT_ID}  # –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ namespace
  command: ["/ros_scripts/ros_with_namespace.sh", "/scripts/start_oak_d.sh"]

lslidar:
  environment:
    - ROBOT_ID=${ROBOT_ID}
  command: ["/ros_scripts/ros_with_namespace.sh", "/scripts/start_lslidar.sh"]

# ... –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è apriltag, led-matrix-driver, voice-assistant, perception
```

---

## –û–±–ª–∞—á–Ω–∞—è —Ç–æ–ø–æ–ª–æ–≥–∏—è

### –°–µ—Ç–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ  zenoh.robbox.online     ‚îÇ (–û–±–ª–∞–∫–æ)
                    ‚îÇ       :7447              ‚îÇ
                    ‚îÇ  –•—Ä–∞–Ω–∏–ª–∏—â–µ: robots/**    ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                                 ‚îÇ TCP/TLS
                                 ‚îÇ
                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                   ‚îÇ  Zenoh Router Main Pi      ‚îÇ
                   ‚îÇ    (10.1.1.10:7447)        ‚îÇ
                   ‚îÇ    —Ä–µ–∂–∏–º: router           ‚îÇ
                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ              ‚îÇ
                   TCP/IP ‚îÇ              ‚îÇ TCP/IP
                          ‚îÇ              ‚îÇ
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ Zenoh Router     ‚îÇ      ‚îÇ  ROS –Ω–æ–¥—ã Main Pi    ‚îÇ
          ‚îÇ Vision Pi        ‚îÇ      ‚îÇ  (—á–µ—Ä–µ–∑ rmw_zenoh)   ‚îÇ
          ‚îÇ (10.1.1.11:7447) ‚îÇ      ‚îÇ  - rtabmap           ‚îÇ
          ‚îÇ —Ä–µ–∂–∏–º: router    ‚îÇ      ‚îÇ  - nav2              ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ  - twist_mux         ‚îÇ
                 ‚îÇ                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ  ROS –Ω–æ–¥—ã         ‚îÇ
          ‚îÇ  Vision Pi        ‚îÇ
          ‚îÇ  (—á–µ—Ä–µ–∑ rmw_zenoh)‚îÇ
          ‚îÇ  - oak-d          ‚îÇ
          ‚îÇ  - lslidar        ‚îÇ
          ‚îÇ  - apriltag       ‚îÇ
          ‚îÇ  - voice          ‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–∏–º–µ—Ä –ø–æ—Ç–æ–∫–∞ —Ç–æ–ø–∏–∫–∞

–î–ª—è —Ä–æ–±–æ—Ç–∞ `RBXU100001`, –ø—É–±–ª–∏–∫—É—é—â–µ–≥–æ `/cmd_vel`:

```
1. ROS –Ω–æ–¥–∞ –ø—É–±–ª–∏–∫—É–µ—Ç:       /cmd_vel
2. rmw_zenoh –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å: robots/RBXU100001/cmd_vel
3. Zenoh —Å–µ—Å—Å–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:  robots/RBXU100001/cmd_vel
4. –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–æ—É—Ç–µ—Ä –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç: robots/RBXU100001/cmd_vel
5. –†–æ—É—Ç–µ—Ä Main Pi –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:  robots/RBXU100001/cmd_vel ‚Üí zenoh.robbox.online
6. –û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç: robots/RBXU100001/cmd_vel
```

---

## –î–µ—Ç–∞–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–∞ Vision Pi

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `docker/vision/config/zenoh_router_config.json5`

```json5
{
  mode: "router",
  connect: {
    endpoints: [
      "tcp/10.1.1.10:7447"  // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–æ—É—Ç–µ—Ä—É Main Pi
    ],
  },
  listen: {
    endpoints: ["tcp/[::]:7447"],
  },
  scouting: {
    multicast: { enabled: false }
  }
}
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Ç–æ–ø–∏–∫–æ–≤ Vision Pi –∫ Main Pi

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–∞ Main Pi

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `docker/main/config/zenoh_router_config.json5`

```json5
{
  mode: "router",
  connect: {
    endpoints: [
      "tcp/zenoh.robbox.online:7447"  // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –æ–±–ª–∞–∫—É
    ],
  },
  listen: {
    endpoints: ["tcp/[::]:7447"],
  },
  plugins: {
    rest: {
      http_port: 8000,
    },
    storage_manager: {
      storages: {
        robot_data: {
          key_expr: "robots/**",  // –•—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö —Ä–æ–±–æ—Ç–æ–≤
          volume: {
            id: "memory",
          },
        },
      },
    },
  },
}
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Ç–æ–ø–∏–∫–æ–≤ —Ä–æ–±–æ—Ç–∞ –≤ –æ–±–ª–∞–∫–æ –∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏ (–æ–±–µ Pi)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `docker/*/config/zenoh_session_config.json5`

–ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (namespace –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):

```json5
{
  mode: "peer",
  connect: {
    endpoints: ["tcp/localhost:7447"],  // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Ä–æ—É—Ç–µ—Ä—É
  },
  listen: {
    endpoints: ["tcp/localhost:0"],  // –°–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—Ç
  },
  
  // Namespace –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  // –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –æ–±—ë—Ä—Ç–∫–æ–π ros_with_namespace.sh
  // namespace: "my/namespace",
}
```

**–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ `/tmp/zenoh_session_config.json5`:

```json5
{
  mode: "peer",
  connect: {
    endpoints: ["tcp/localhost:7447"],
  },
  listen: {
    endpoints: ["tcp/localhost:0"],
  },
  
  // –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ ros_with_namespace.sh
  namespace: "robots/RBXU100001",
}
```

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å

#### 1. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

–ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–µ—Ä–≤–∏—Å Vision Pi:

```bash
docker-compose up oak-d
```

Docker –≤—ã–ø–æ–ª–Ω—è–µ—Ç:

```yaml
command: ["/ros_scripts/ros_with_namespace.sh", "/scripts/start_oak_d.sh"]
environment:
  - ROBOT_ID=RBXU100001
  - ZENOH_CONFIG=/config/zenoh_session_config.json5
```

#### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Namespace

`ros_with_namespace.sh` –≤—ã–ø–æ–ª–Ω—è–µ—Ç:

```bash
#!/bin/bash
ROBOT_ID=RBXU100001  # –ò–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å namespace
GENERATED_CONFIG="/tmp/zenoh_session_config.json5"
cp /config/zenoh_session_config.json5 "$GENERATED_CONFIG"
sed -i "s|// namespace: \"my/namespace\"|namespace: \"robots/$ROBOT_ID\"|g" "$GENERATED_CONFIG"

# –£–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
export ZENOH_SESSION_CONFIG_URI="$GENERATED_CONFIG"

# –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–æ–¥—É
exec /scripts/start_oak_d.sh
```

#### 3. –ó–∞–ø—É—Å–∫ ROS –Ω–æ–¥—ã

–ù–æ–¥–∞ OAK-D –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å:

```bash
export RMW_IMPLEMENTATION=rmw_zenoh_cpp
export ZENOH_SESSION_CONFIG_URI=/tmp/zenoh_session_config.json5

ros2 launch depthai_ros_driver camera.launch.py
```

#### 4. –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ç–æ–ø–∏–∫–∞

–ö–æ–≥–¥–∞ OAK-D –ø—É–±–ª–∏–∫—É–µ—Ç `/camera/rgb/image_raw`:

```
ROS –Ω–æ–¥–∞ ‚Üí rmw_zenoh ‚Üí Zenoh —Å–µ—Å—Å–∏—è (—Å namespace) ‚Üí –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–æ—É—Ç–µ—Ä ‚Üí –ì–ª–∞–≤–Ω—ã–π —Ä–æ—É—Ç–µ—Ä ‚Üí –û–±–ª–∞–∫–æ
```

Zenoh –≤–∏–¥–∏—Ç: `robots/RBXU100001/camera/rgb/image_raw`

#### 5. –ü–æ–¥–ø–∏—Å–∫–∞ –≤ –æ–±–ª–∞–∫–µ

–û–±–ª–∞–∫–æ –º–æ–∂–µ—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞:

```bash
# –í—Å–µ —Ä–æ–±–æ—Ç—ã, –≤—Å–µ —Ç–æ–ø–∏–∫–∏
robots/**

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–æ–±–æ—Ç, –≤—Å–µ —Ç–æ–ø–∏–∫–∏
robots/RBXU100001/**

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–æ–±–æ—Ç, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–ø–∏–∫
robots/RBXU100001/camera/rgb/image_raw

# –í—Å–µ —Ä–æ–±–æ—Ç—ã, —Ç–æ–ª—å–∫–æ —Ç–æ–ø–∏–∫–∏ –∫–∞–º–µ—Ä—ã
robots/*/camera/**
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Namespace

**–ù–∞ Vision Pi:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker exec oak-d env | grep ROBOT_ID
# –û–∂–∏–¥–∞–µ—Ç—Å—è: ROBOT_ID=RBXU100001

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
docker exec oak-d cat /tmp/zenoh_session_config.json5 | grep namespace
# –û–∂–∏–¥–∞–µ—Ç—Å—è: namespace: "robots/RBXU100001",

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
docker logs oak-d 2>&1 | grep "Robot ID\|Namespace"
# –û–∂–∏–¥–∞–µ—Ç—Å—è:
# ü§ñ Robot ID: RBXU100001
# üì° Namespace: robots/RBXU100001
```

**–ù–∞ Main Pi:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å REST API Zenoh —Ä–æ—É—Ç–µ—Ä–∞ –¥–ª—è —Ç–æ–ø–∏–∫–æ–≤
curl http://localhost:8000/@/local/subscriber | jq

# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã —Ç–æ–ø–∏–∫–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º robots/RBXU100001/
# –ü—Ä–∏–º–µ—Ä:
# {
#   "key": "robots/RBXU100001/camera/rgb/image_raw",
#   ...
# }
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–ª–∞—á–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–° –º–∞—à–∏–Ω—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã Zenoh
cargo install zenoh --features=unstable

# –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –≤—Å–µ —Ç–æ–ø–∏–∫–∏ —Ä–æ–±–æ—Ç–æ–≤
z_sub -e "tcp/zenoh.robbox.online:7447" -k "robots/**"

# –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞
z_sub -e "tcp/zenoh.robbox.online:7447" -k "robots/RBXU100001/**"

# –ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ–ø–∏–∫–∏
z_get -e "tcp/zenoh.robbox.online:7447" -s "robots/**"
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–æ–ø–∏–∫–æ–≤

**–¢–µ—Å—Ç —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–æ–±–æ—Ç–∞–º–∏:**

```bash
# –†–æ–±–æ—Ç 1 (RBXU100001)
# –ü—É–±–ª–∏–∫—É–µ—Ç: /cmd_vel ‚Üí robots/RBXU100001/cmd_vel

# –†–æ–±–æ—Ç 2 (RBXU100002)  
# –ü—É–±–ª–∏–∫—É–µ—Ç: /cmd_vel ‚Üí robots/RBXU100002/cmd_vel

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã—Ö –ø–æ–º–µ—Ö:
z_sub -e "tcp/zenoh.robbox.online:7447" -k "robots/RBXU100001/cmd_vel"
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –†–æ–±–æ—Ç–∞ 1
```

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–æ–ø–∏–∫–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –æ–±–ª–∞–∫–µ

**–°–∏–º–ø—Ç–æ–º—ã:**
- –û–±–ª–∞–∫–æ –Ω–µ –≤–∏–¥–∏—Ç —Ç–æ–ø–∏–∫–∏ —Ä–æ–±–æ—Ç–∞
- `z_sub` –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

1. **–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ ROBOT_ID —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
   ```bash
   docker exec oak-d env | grep ROBOT_ID
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   ```bash
   docker exec oak-d cat /tmp/zenoh_session_config.json5 | grep namespace
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–ª–∞—á–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
   ```bash
   # –ù–∞ Main Pi
   curl http://localhost:8000/@/router/status
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Zenoh —Ä–æ—É—Ç–µ—Ä–∞:**
   ```bash
   docker logs zenoh-router
   docker logs zenoh-router-vision
   ```

**–†–µ—à–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ namespace –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `ROBOT_ID=...`
- –ï—Å–ª–∏ namespace –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π: –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã: `docker-compose restart`
- –ï—Å–ª–∏ –Ω–µ—Ç –æ–±–ª–∞—á–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–µ—Ä–≤–æ–ª, —Å–µ—Ç–µ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–µ—Ñ–∏–∫—Å Namespace

**–°–∏–º–ø—Ç–æ–º—ã:**
- –¢–æ–ø–∏–∫–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∫–∞–∫ `robots/default/...` –≤–º–µ—Å—Ç–æ `robots/RBXU100001/...`

**–ü—Ä–∏—á–∏–Ω–∞:** ROBOT_ID –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å docker-compose.yaml —Å–æ–¥–µ—Ä–∂–∏—Ç:
environment:
  - ROBOT_ID=${ROBOT_ID}

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª .env:
cat docker/vision/.env | grep ROBOT_ID
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: ROBOT_ID=RBXU100001

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å —è–≤–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è:
ROBOT_ID=RBXU100001 docker-compose up -d
```

### –ü—Ä–æ–±–ª–µ–º–∞: Namespace –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –Ω–µ–∫–æ—Ç–æ—Ä—ã–º –Ω–æ–¥–∞–º

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–ø–∏–∫–∏ –∏–º–µ—é—Ç namespace, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Ä–≤–∏—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—ë—Ä—Ç–∫—É ros_with_namespace.sh

**–†–µ—à–µ–Ω–∏–µ:**

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å `docker-compose.yaml`:

```yaml
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
services:
  my-node:
    command: ["/ros_scripts/ros_with_namespace.sh", "/scripts/start_node.sh"]
    environment:
      - ROBOT_ID=${ROBOT_ID}

# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—ë—Ä—Ç–∫–∞)
services:
  my-node:
    command: ["/scripts/start_node.sh"]
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –æ–±–ª–∞—á–Ω—ã–µ —Ç–æ–ø–∏–∫–∏

**–°–∏–º–ø—Ç–æ–º—ã:**
- `z_sub` –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
- –¢–∞–π–º–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

1. **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –æ–±–ª–∞—á–Ω–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞:**
   ```bash
   telnet zenoh.robbox.online 7447
   # –î–æ–ª–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
   ```

2. **–ü—Ä–∞–≤–∏–ª–∞ —Ñ–∞–µ—Ä–≤–æ–ª–∞:**
   ```bash
   # –ù–∞ Main Pi
   sudo ufw status
   # –ü–æ—Ä—Ç 7447 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–∑—Ä–µ—à—ë–Ω
   ```

3. **DNS —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ:**
   ```bash
   nslookup zenoh.robbox.online
   ping zenoh.robbox.online
   ```

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ —Ñ–∞–µ—Ä–≤–æ–ª–∞: `sudo ufw allow 7447/tcp`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å VPN/—Å–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–±–ª–∞—á–Ω—ã–π —Ä–æ—É—Ç–µ—Ä –∑–∞–ø—É—â–µ–Ω

---

## ROS 2 Domain ID vs Zenoh Namespace

### –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è

| –§—É–Ω–∫—Ü–∏—è | ROS_DOMAIN_ID | Zenoh Namespace |
|---------|---------------|-----------------|
| **–£—Ä–æ–≤–µ–Ω—å** | –°–µ—Ç–µ–≤–∞—è –∏–∑–æ–ª—è—Ü–∏—è | –ü—Ä–µ—Ñ–∏–∫—Å —Ç–æ–ø–∏–∫–∞ |
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** | –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã—Ö –ø–æ–º–µ—Ö DDS | –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–ø–∏–∫–æ–≤ |
| **–í–∏–¥–∏–º–æ—Å—Ç—å** | –ù–æ–¥—ã –≤ —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–∞—Ö –Ω–µ –≤–∏–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ | –í—Å–µ —Ç–æ–ø–∏–∫–∏ –≤–∏–¥–∏–º—ã, –ø—Ä–æ—Å—Ç–æ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º |
| **–û–±–ª–∞–∫–æ** | –ù–µ –≤–∏–¥–Ω–æ –≤ –∏–º–µ–Ω–∞—Ö —Ç–æ–ø–∏–∫–æ–≤ | –í–∏–¥–Ω–æ –≤ –∫–ª—é—á–µ–≤—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö |
| **–°–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** | –ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–æ–±–æ—Ç–æ–≤ –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏ | –û–±–ª–∞—á–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è |

### Rob Box –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±–∞

```
ROS_DOMAIN_ID=0  (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  ‚îî‚îÄ‚îÄ –í—Å–µ –Ω–æ–¥—ã –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ DDS/Zenoh
      ‚îî‚îÄ‚îÄ Zenoh namespace: robots/RBXU100001/
          ‚îî‚îÄ‚îÄ –í—Å–µ —Ç–æ–ø–∏–∫–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º: robots/RBXU100001/cmd_vel –∏ —Ç.–¥.
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ROS_DOMAIN_ID: –ò–∑–æ–ª—è—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
- Zenoh namespace: –û–±–ª–∞—á–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

## –°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –¢–µ–∫—É—â–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–±–µ–∑ TLS)

```
Main Pi ‚îÄ‚îÄTCP (–Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π)‚îÄ‚îÄ> zenoh.robbox.online:7447
```

**–†–∏—Å–∫–∏:**
- –¢—Ä–∞—Ñ–∏–∫ –Ω–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω
- –ù–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –õ—é–±–æ–π –º–æ–∂–µ—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å/–ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è

**–ü—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è:**
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ó–∞–∫—Ä—ã—Ç—ã—Ö —Å–µ—Ç–µ–π

### –ë—É–¥—É—â–µ–µ: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TLS/QUIC

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production:**

```json5
{
  connect: {
    endpoints: [
      "tls/zenoh.robbox.online:7448"  // TLS –Ω–∞ –ø–æ—Ä—Ç—É 7448
    ]
  },
  transport: {
    link: {
      tls: {
        root_ca_certificate: "/certs/ca.pem",
        connect_certificate: "/certs/robot.pem",
        connect_private_key: "/certs/robot.key",
        verify_name_on_connect: true,
      }
    }
  }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫
- –í–∑–∞–∏–º–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

---

## –°–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

1. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Zenoh:**
   - https://github.com/eclipse-zenoh/zenoh/blob/main/DEFAULT_CONFIG.json5

2. **–î–∏–∑–∞–π–Ω rmw_zenoh:**
   - https://github.com/ros2/rmw_zenoh/blob/rolling/docs/design.md

3. **ROS 2 Namespaces:**
   - https://design.ros2.org/articles/topic_and_service_names.html

4. **–ö–ª—é—á–µ–≤—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è Zenoh:**
   - https://github.com/eclipse-zenoh/roadmap/blob/main/rfcs/ALL/Key%20Expressions.md

### –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

- `docker/vision/scripts/ros_with_namespace.sh` - –°–∫—Ä–∏–ø—Ç-–æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è namespace
- `docker/vision/config/zenoh_session_config.json5` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏ Vision Pi
- `docker/main/config/zenoh_router_config.json5` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–∞ Main Pi (–æ–±–ª–∞—á–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ)
- `docker/vision/.env` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ROBOT_ID
- `docs/architecture/SOFTWARE.md` - –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Zenoh
- `docs/development/AGENT_GUIDE.md` - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤

---

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 2025-10-23 - –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è Zenoh namespace
- –û–±—ä—è—Å–Ω–µ–Ω–∞ —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å ros_with_namespace.sh
- –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–∞–≥—Ä–∞–º–º—ã –æ–±–ª–∞—á–Ω–æ–π —Ç–æ–ø–æ–ª–æ–≥–∏–∏
- –°–æ–∑–¥–∞–Ω–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –Ω–µ–ø–æ–ª–∞–¥–æ–∫
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

**–ê–≤—Ç–æ—Ä:** AI Agent (GitHub Copilot)  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-24  
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω—ã–π - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Namespace —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ production
