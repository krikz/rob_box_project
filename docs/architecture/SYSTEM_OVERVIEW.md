# ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ğ ĞĞ‘Ğ‘ĞĞšĞ¡

<div align="center">
  <strong>ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ Ğ°Ğ²Ñ‚Ğ¾Ğ½Ğ¾Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ°</strong>
  <br>
  <sub>Ğ’ĞµÑ€ÑĞ¸Ñ: 1.1.0 | Ğ”Ğ°Ñ‚Ğ°: 2025-10-24</sub>
</div>

> **ğŸ“ ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ (24 Ğ¾ĞºÑ‚ÑĞ±Ñ€Ñ 2025):**
> - Perception Ğ¸ LSLIDAR Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰ĞµĞ½Ñ‹ Ñ Vision Pi Ğ½Ğ° Main Pi
> - Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° (Grafana, Prometheus, Loki)
> - Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ TF Ñ‚Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ (robot-state-publisher Ñ Zenoh wrapper)
> - Ğ“Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ¾Ğ¹ Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ» time awareness Ğ¸ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ TTS
> - ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Zenoh namespace Ğ¸ Ğ¾Ğ±Ğ»Ğ°Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ

---

## ğŸ“– Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ

1. [ĞĞ±Ğ·Ğ¾Ñ€ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹](#1-Ğ¾Ğ±Ğ·Ğ¾Ñ€-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹)
2. [ĞĞ¿Ğ¿Ğ°Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](#2-Ğ°Ğ¿Ğ¿Ğ°Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
3. [Ğ¡ĞµÑ‚ĞµĞ²Ğ°Ñ Ñ‚Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ](#3-ÑĞµÑ‚ĞµĞ²Ğ°Ñ-Ñ‚Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ)
4. [ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](#4-Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ½Ğ°Ñ-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
5. [ROS 2 Ğ³Ñ€Ğ°Ñ„](#5-ros-2-Ğ³Ñ€Ğ°Ñ„)
6. [Docker Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°](#6-docker-Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°)
7. [ĞŸĞ¾Ñ‚Ğ¾ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…](#7-Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¸-Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)
8. [ĞŸÑ€Ğ¸Ğ½ÑÑ‚Ñ‹Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ](#8-Ğ¿Ñ€Ğ¸Ğ½ÑÑ‚Ñ‹Ğµ-Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ)

---

## 1. ĞĞ±Ğ·Ğ¾Ñ€ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹

### 1.1. ĞšĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

Ğ ĞĞ‘Ğ‘ĞĞšĞ¡ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñƒ **Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ñ‘Ğ½Ğ½Ğ¾Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸** Ñ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ´Ğ²ÑƒĞ¼Ñ Raspberry Pi:

- **Vision Pi** â€” ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ½Ğ° Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ Ğ¸ Ğ³Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ¾Ğ¼ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¸
- **Main Pi** â€” Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ Ğ·Ğ° Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ, Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ, SLAM Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ

Ğ¢Ğ°ĞºĞ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚:
- âœ… Ğ Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ÑŒ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ÑƒÑ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºÑƒ
- âœ… ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ (Ğ»ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ ÑƒĞ·Ğ»Ñ‹)
- âœ… Ğ˜Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹ (ÑĞ±Ğ¾Ğ¹ ĞºĞ°Ğ¼ĞµÑ€Ñ‹ Ğ½Ğµ Ğ²Ğ»Ğ¸ÑĞµÑ‚ Ğ½Ğ° Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ)
- âœ… ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞµÑ‚ĞµĞ²Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº (Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾)

### 1.2. ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹

| ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° |
|---------|----------|--------------|
| **ĞœĞ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°** | ĞšĞ°Ğ¶Ğ´Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ â€” Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Docker ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ | Ğ˜Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ, Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼Ğ¾ÑÑ‚ÑŒ |
| **Ğ”ĞµĞºĞ»Ğ°Ñ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ** | Docker Compose + Volume-Ğ¼Ğ¾Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ | ĞĞµ Ğ½ÑƒĞ¶Ğ½Ğ° Ğ¿ĞµÑ€ĞµÑĞ±Ğ¾Ñ€ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ¾Ğ² |
| **Middleware decoupling** | Zenoh Ğ´Ğ»Ñ ÑĞ²ÑĞ·Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ Pi | Ğ£ÑÑ‚Ğ¾Ğ¹Ñ‡Ğ¸Ğ²Ğ¾ÑÑ‚ÑŒ Ğº ÑĞµÑ‚ĞµĞ²Ñ‹Ğ¼ ÑĞ±Ğ¾ÑĞ¼ |
| **Hardware abstraction** | ROS 2 Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹ | Ğ—Ğ°Ğ¼ĞµĞ½Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ´Ğ° |

---

## 2. ĞĞ¿Ğ¿Ğ°Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### 2.1. Ğ¡Ñ…ĞµĞ¼Ğ° Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¹

```
                          Ğ ĞĞ‘Ğ‘ĞĞšĞ¡
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Vision Pi 5 (8GB) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚
â”‚  â”‚  â”‚ OAK-D   â”‚  â”‚  LS      â”‚  â”‚ MJPEG  â”‚  â”‚ReSpeakerâ”‚        â”‚
â”‚  â”‚  â”‚ Lite    â”‚  â”‚  LiDAR   â”‚  â”‚ Camera â”‚  â”‚ Mic v2 â”‚ â”‚         â”‚
â”‚  â”‚  â”‚ (USB3)  â”‚  â”‚  N10     â”‚  â”‚ 720p   â”‚  â”‚ Array  â”‚ â”‚         â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚         â”‚
â”‚  â”‚       â”‚            â”‚(USB)       â”‚(USB)      â”‚(USB)  â”‚         â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚         â”‚
â”‚  â”‚                         â”‚ SPI                        â”‚         â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                      â”‚         â”‚
â”‚  â”‚                    â”‚ 381 LED  â”‚                      â”‚         â”‚
â”‚  â”‚                    â”‚ NeoPixel â”‚                      â”‚         â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                         â”‚ GbE (10.1.1.x)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€ Main Pi 5 (16GB) â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚
â”‚  â”‚  â”‚  CAN HAT   â”‚â—„â”€â”€â”€â”€â–ºâ”‚   ESP32     â”‚   â”‚  2Ã—10S  â”‚  â”‚         â”‚
â”‚  â”‚  â”‚ (Isolated) â”‚      â”‚ Sensor Hub  â”‚   â”‚  LiPo   â”‚  â”‚         â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â”‚  + BMC      â”‚   â”‚  Batteryâ”‚  â”‚         â”‚
â”‚  â”‚         â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â”‚         â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                              â”‚       â”‚         â”‚
â”‚  â”‚    â”‚ 2Ã— VESC â”‚           Power Rails:       â”‚       â”‚         â”‚
â”‚  â”‚    â”‚ Motor   â”‚           â€¢ 12V Buck (isolated)      â”‚         â”‚
â”‚  â”‚    â”‚ Control â”‚           â€¢ 5V Buck (isolated)       â”‚         â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â€¢ Feeds to both Pi & LEDs  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2. ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ¿Ğ¾ Ñ„ÑƒĞ½ĞºÑ†Ğ¸ÑĞ¼

#### Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ÑƒĞ·Ğ»Ñ‹

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | ĞœĞ¾Ğ´ĞµĞ»ÑŒ | CPU | RAM | Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ |
|-----------|--------|-----|-----|---------|
| **Main Pi** | Raspberry Pi 5 | 4-core ARM Cortex-A76 @ 2.4GHz | 16GB | SLAM, Nav2, Control, Perception, LSLIDAR |
| **Vision Pi** | Raspberry Pi 5 | 4-core ARM Cortex-A76 @ 2.4GHz | 8GB | Vision, AprilTag, Voice Assistant |

#### Ğ¡ĞµĞ½ÑĞ¾Ñ€Ñ‹

| Ğ¡ĞµĞ½ÑĞ¾Ñ€ | Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ | Ğ§Ğ°ÑÑ‚Ğ¾Ñ‚Ğ° | ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ |
|--------|-----------|---------|-------------|------------|
| **LS LiDAR N10** | USB (ACM) | 10 Hz | Main Pi | 2D ĞºĞ°Ñ€Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ (Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰Ñ‘Ğ½ 24.10.2025) |
| **OAK-D Lite** | USB 3.0 | 5-10 Hz | Vision Pi | RGB-D, AprilTag |
| **MJPEG Camera** | USB 2.0 | 30 Hz | Vision Pi | ĞŸĞ¾Ñ‚Ğ¾Ğ»Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ (720p YUY2) |
| **ReSpeaker Mic v2** | USB 2.0 | â€” | Vision Pi | Ğ“Ğ¾Ğ»Ğ¾ÑĞ¾Ğ²Ğ¾Ğµ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ (6-mic array) |
| **Temperature Sensors** | I2C | 1 Hz | ESP32 Hub | ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñ‹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² |
| **BMS** (planned) | UART | 1 Hz | ESP32 Hub | ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ°ĞºĞºÑƒĞ¼ÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğ° |

#### ĞĞºÑ‚ÑƒĞ°Ñ‚Ğ¾Ñ€Ñ‹

| ĞĞºÑ‚ÑƒĞ°Ñ‚Ğ¾Ñ€ | Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ | Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ | ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ |
|----------|-----------|------------|-------------|------------|
| **2Ã— VESC** | CAN Bus | Velocity/Current | Main Pi (CAN HAT isolated) | ĞŸÑ€Ğ¸Ğ²Ğ¾Ğ´ ĞºĞ¾Ğ»Ñ‘Ñ |
| **381Ã— NeoPixel LED** | SPI | RGB data | Vision Pi (GPIO10/SPI) | Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ†Ğ¸Ñ (4Ã— 8Ã—8 + 1Ã— 25Ã—5) |
| **Cooling Fans** | PWM | Duty cycle | ESP32 Hub | ĞÑ…Ğ»Ğ°Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² |

#### ĞŸĞ¸Ñ‚Ğ°Ğ½Ğ¸Ğµ

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | ĞĞ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ | Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|-----------|-----------|----------|----------|
| **Battery** | 37V (10S LiPo) Ã— 2 | â€” | ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğµ Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ğµ |
| **12V Buck** | 12V | Battery â†’ isolated buck | Raspberry Pi 5, VESC |
| **5V Buck** | 5V | Battery â†’ isolated buck | NeoPixel LED (381Ã—), ÑĞµĞ½ÑĞ¾Ñ€Ñ‹ |
| **CAN HAT** | 5V | Main Pi | Ğ“Ğ°Ğ»ÑŒĞ²Ğ°Ğ½Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ€Ğ°Ğ·Ğ²ÑĞ·ĞºĞ° CAN |

---

## 3. Ğ¡ĞµÑ‚ĞµĞ²Ğ°Ñ Ñ‚Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ

### 3.1. Dual Network Design

Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ **Ğ´Ğ²Ğµ Ğ½ĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ñ‹Ğµ ÑĞµÑ‚Ğ¸**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ GIGABIT ETHERNET â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ: ĞŸĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¼ĞµĞ¶Ğ´Ñƒ Pi (images, lidar, etc.)    â”‚
â”‚  Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ: 1000 Mbps                                            â”‚
â”‚                                                                  â”‚
â”‚    Vision Pi (eth0)                  Main Pi (eth0)             â”‚
â”‚       10.1.1.11      â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 10.1.1.10                  â”‚
â”‚         â”‚                                 â”‚                      â”‚
â”‚         â”‚                                 â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                 â”‚
          â”‚                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ WIFI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ: SSH Ğ´Ğ¾ÑÑ‚ÑƒĞ¿, ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ, Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³                 â”‚
â”‚  Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ: 100-300 Mbps                                          â”‚
â”‚                                                                  â”‚
â”‚    Vision Pi (wlan0)                Main Pi (wlan0)              â”‚
â”‚       10.1.1.21      â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 10.1.1.20                  â”‚
â”‚                              â”‚                                   â”‚
â”‚                              â”‚                                   â”‚
â”‚                         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                             â”‚
â”‚                         â”‚  Router  â”‚                             â”‚
â”‚                         â”‚  DHCP    â”‚                             â”‚
â”‚                         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                              â”‚                                   â”‚
â”‚                         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                             â”‚
â”‚                         â”‚ Host PC  â”‚                             â”‚
â”‚                         â”‚ Foxglove â”‚                             â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2. IP-Ğ°Ğ´Ñ€ĞµÑĞ°Ñ†Ğ¸Ñ

| Ğ£ÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾ | Ethernet (eth0) | WiFi (wlan0) | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ° |
|------------|-----------------|--------------|------------------------|
| **Main Pi** | 10.1.1.10 | 10.1.1.20 | eth0: ROS/Zenoh, wlan0: SSH |
| **Vision Pi** | 10.1.1.11 | 10.1.1.21 | eth0: ROS/Zenoh, wlan0: SSH |
| **Host PC** | â€” | 10.1.1.5 | Visualization, monitoring |

**âš ï¸ Ğ’ĞĞ–ĞĞ**: 
- ROS 2 / Zenoh Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‚ **Ğ¢ĞĞ›Ğ¬ĞšĞ** Ethernet (10.1.1.x)
- WiFi Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ **Ğ¢ĞĞ›Ğ¬ĞšĞ** Ğ´Ğ»Ñ SSH Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
- Ğ­Ñ‚Ğ¾ Ğ¿Ñ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ¿ĞµÑ€ĞµĞ³Ñ€ÑƒĞ·ĞºÑƒ WiFi Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ°Ğ¼Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### 3.3. Zenoh Ñ‚Ğ¾Ğ¿Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ

```
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚ zenoh.robbox.online â”‚ (ĞĞ±Ğ»Ğ°ĞºĞ¾)
                      â”‚      :7447          â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ TCP/TLS
                                 â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚    Main Pi Zenoh Router    â”‚
                   â”‚      (10.1.1.10:7447)      â”‚
                   â”‚      mesh peer mode        â”‚
                   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                          â”‚              â”‚
                   UDP/TCPâ”‚              â”‚UDP/TCP
                          â”‚              â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”      â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Vision Pi Zenoh  â”‚      â”‚  Local ROS2 Nodes    â”‚
          â”‚ Router           â”‚      â”‚  (via rmw_zenoh_cpp) â”‚
          â”‚ (10.1.1.11:7447) â”‚      â”‚  - rtabmap           â”‚
          â”‚ client mode      â”‚      â”‚  - twist_mux         â”‚
          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  - nav2              â”‚
                 â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Local ROS2 Nodes â”‚
          â”‚  (via rmw_zenoh)  â”‚
          â”‚  - oak-d          â”‚
          â”‚    (with AprilTag)â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ ĞµĞ¶Ğ¸Ğ¼Ñ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹**:
- **Main Pi**: `peer` â€” Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑƒĞ·ĞµĞ», Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ğ°Ğ²Ñ‚Ğ¾Ğ½Ğ¾Ğ¼Ğ½Ğ¾
- **Vision Pi**: `client` â€” Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ Ğº Main Pi, Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ½ĞµĞ³Ğ¾
- **Cloud**: `peer` â€” Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ ÑƒĞ´Ğ°Ğ»Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°

---

## 4. ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### 4.1. Ğ£Ñ€Ğ¾Ğ²Ğ½Ğ¸ Ğ°Ğ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ğ¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Application Layer                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Nav2       â”‚  â”‚   Animations â”‚  â”‚   Behaviors  â”‚          â”‚
â”‚  â”‚  Navigation  â”‚  â”‚   Manager    â”‚  â”‚   (Future)   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚     ROS 2 Middleware Layer (Zenoh)  â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Topics  â”‚  Services  â”‚  Actions  â”‚  Parameters       â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚      Perception & Control Layer     â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   RTAB-Map   â”‚  â”‚   AprilTag   â”‚  â”‚ ros2_controlâ”‚            â”‚
â”‚  â”‚     SLAM     â”‚  â”‚   Detector   â”‚  â”‚   (VESC)    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚         Driver Layer                â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  LS LiDAR    â”‚  â”‚   OAK-D      â”‚  â”‚  VESC CAN      â”‚        â”‚
â”‚  â”‚   Driver     â”‚  â”‚   Driver     â”‚  â”‚    Driver      â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Hardware Layer                               â”‚
â”‚  LS LiDAR N10  â”‚  OAK-D Lite  â”‚  VESC Controllers  â”‚  Sensors  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2. ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ¿Ğ¾ ÑĞ»Ğ¾ÑĞ¼

#### Application Layer
- **Nav2 Stack**: Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¸ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‚Ñ€Ğ°ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸
- **Animation Manager**: Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ LED Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸ÑĞ¼Ğ¸ Ğ¸ ÑĞ¼Ğ¾Ñ†Ğ¸ÑĞ¼Ğ¸
- **Behavior Trees** (future): Ğ’Ñ‹ÑĞ¾ĞºĞ¾ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ²Ğ¾Ğµ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸ĞµĞ¼

#### Middleware Layer
- **Zenoh Router**: ĞœĞ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑƒĞ·Ğ»Ğ°Ğ¼Ğ¸
- **rmw_zenoh_cpp**: ROS 2 Middleware Ğ´Ğ»Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ Zenoh
- **DDS Bridge** (optional): ĞœĞ¾ÑÑ‚ Ğ² ĞºĞ»Ğ°ÑÑĞ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ DDS Ğ¿Ñ€Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸

#### Perception & Control
- **RTAB-Map**: 3D SLAM Ñ RGB-D Ğ¸ LiDAR fusion
- **AprilTag Detection**: Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ»Ğ¾ĞºĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ¼Ğ°Ñ€ĞºĞµÑ€Ğ°Ğ¼
- **ros2_control**: Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸Ğ²Ğ¾Ğ´Ğ°Ğ¼Ğ¸ Ñ‡ĞµÑ€ĞµĞ· Ğ°Ğ±ÑÑ‚Ñ€Ğ°ĞºÑ‚Ğ½Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ

#### Driver Layer
- **lslidar_driver**: ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞºĞ°Ğ½Ğ¾Ğ² Ğ¾Ñ‚ 2D LiDAR
- **depthai_ros**: ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ñ‚ OAK-D ĞºĞ°Ğ¼ĞµÑ€Ñ‹
- **vesc_driver**: CAN-Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¼Ğ¾Ñ‚Ğ¾Ñ€Ğ°Ğ¼Ğ¸
- **micro_ros_agent**: Ğ¡Ğ²ÑĞ·ÑŒ Ñ ESP32 ÑĞµĞ½ÑĞ¾Ñ€Ğ½Ñ‹Ğ¼ Ñ…Ğ°Ğ±Ğ¾Ğ¼

---

## 5. ROS 2 Ğ³Ñ€Ğ°Ñ„

### 5.1. Main Pi - ROS 2 Nodes

```
Main Pi (10.1.1.10)
â”œâ”€ /zenoh_router              # Zenoh bridge
â”œâ”€ /twist_mux                 # Velocity multiplexer
â”œâ”€ /rtabmap                   # SLAM node
â”‚  â”œâ”€ Subscribed: /scan, /camera/*, /odom
â”‚  â””â”€ Published: /map, /rtabmap/localization_pose
â”œâ”€ /lslidar_driver            # LiDAR driver (Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰Ñ‘Ğ½ Ñ Vision Pi 24.10.2025)
â”‚  â””â”€ Published: /scan
â”œâ”€ /perception_*              # Perception nodes (Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰ĞµĞ½Ñ‹ Ñ Vision Pi 24.10.2025)
â”‚  â”œâ”€ /health_monitor         # Health monitoring
â”‚  â””â”€ /context_aggregator     # Context aggregation
â”œâ”€ /robot_state_publisher     # TF publisher (Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½ Zenoh wrapper 24.10.2025)
â”‚  â””â”€ Published: /tf, /tf_static
â”œâ”€ /nav2_*                    # Navigation stack (future)
â”‚  â”œâ”€ /controller_server
â”‚  â”œâ”€ /planner_server
â”‚  â”œâ”€ /behavior_server
â”‚  â””â”€ /bt_navigator
â”œâ”€ /vesc_driver               # Motor control
â”‚  â”œâ”€ Subscribed: /cmd_vel
â”‚  â””â”€ Published: /odom, /vesc/sensors/core
â””â”€ /micro_ros_agent           # ESP32 bridge
   â”œâ”€ Subscribed: /device/command
   â””â”€ Published: /device/snapshot
```

### 5.2. Vision Pi - ROS 2 Nodes

```
Vision Pi (10.1.1.11)
â”œâ”€ /zenoh_router              # Zenoh bridge (client mode)
â”œâ”€ /oak_d_node                # Camera driver (with integrated AprilTag detection)
â”‚  â”œâ”€ Published: /camera/color/image_raw
â”‚  â”‚             /camera/depth/image_rect_raw
â”‚  â”‚             /camera/color/camera_info
â”‚  â””â”€ /apriltag_node          # Marker detector (runs in same container)
â”‚     â”œâ”€ Subscribed: /camera/color/image_raw
â”‚     â”‚              /camera/color/camera_info
â”‚     â””â”€ Published: /apriltag/detections
â”‚                   /tf (tag transforms)
â””â”€ /voice_assistant           # Voice assistant (ReSpeaker)
   â”œâ”€ Subscribed: /perception/events
   â””â”€ Published: /dialogue/text
                 /audio/tts
```

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ:** LSLIDAR Ğ¸ Perception Ğ±Ñ‹Ğ»Ğ¸ Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰ĞµĞ½Ñ‹ Ğ½Ğ° Main Pi (24 Ğ¾ĞºÑ‚ÑĞ±Ñ€Ñ 2025) Ğ´Ğ»Ñ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ñ€ĞµÑÑƒÑ€ÑĞ¾Ğ² Vision Pi.

### 5.3. ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ‚Ğ¾Ğ¿Ğ¸ĞºĞ¸

| Ğ¢Ğ¾Ğ¿Ğ¸Ğº | Ğ¢Ğ¸Ğ¿ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ | Publisher | Subscriber | Ğ§Ğ°ÑÑ‚Ğ¾Ñ‚Ğ° | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|-------|---------------|-----------|------------|---------|----------|
| `/scan` | sensor_msgs/LaserScan | lslidar_driver | rtabmap, nav2 | 10 Hz | 2D Ğ»Ğ°Ğ·ĞµÑ€Ğ½Ñ‹Ğµ ÑĞºĞ°Ğ½Ñ‹ |
| `/camera/color/image_raw` | sensor_msgs/Image | oak_d_node | apriltag_node, rtabmap | 5 Hz | RGB Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ |
| `/camera/depth/image_rect_raw` | sensor_msgs/Image | oak_d_node | rtabmap | 5 Hz | Depth ĞºĞ°Ñ€Ñ‚Ğ° |
| `/cmd_vel` | geometry_msgs/Twist | twist_mux | vesc_driver | 10 Hz | ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚Ğ¸ |
| `/odom` | nav_msgs/Odometry | vesc_driver | rtabmap, nav2 | 50 Hz | ĞĞ´Ğ¾Ğ¼ĞµÑ‚Ñ€Ğ¸Ñ |
| `/map` | nav_msgs/OccupancyGrid | rtabmap | nav2, rviz | 1 Hz | 2D ĞºĞ°Ñ€Ñ‚Ğ° |
| `/apriltag/detections` | apriltag_msgs/AprilTagDetectionArray | apriltag_node | nav2 | 5 Hz | Ğ”ĞµÑ‚ĞµĞºÑ†Ğ¸Ğ¸ Ğ¼Ğ°Ñ€ĞºĞµÑ€Ğ¾Ğ² |
| `/device/snapshot` | robot_sensor_hub_msg/DeviceSnapshot | micro_ros_agent | monitoring | 1 Hz | Ğ¡ĞµĞ½ÑĞ¾Ñ€Ñ‹ ESP32 |

---

## 6. Docker Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

### 6.1. Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
docker/
â”œâ”€â”€ base/                        # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ·Ñ‹
â”‚   â”œâ”€â”€ ros2-humble-base/       # ROS 2 + Zenoh
â”‚   â””â”€â”€ ros2-dev-base/          # + dev tools
â”œâ”€â”€ main/                        # Main Pi ÑĞµÑ€Ğ²Ğ¸ÑÑ‹
â”‚   â”œâ”€â”€ docker-compose.yaml
â”‚   â”œâ”€â”€ config/                  # ĞĞ±Ñ‰Ğ¸Ğµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ¸ (Ğ¼Ğ¾Ğ½Ñ‚Ğ¸Ñ€ÑƒÑÑ‚ÑÑ)
â”‚   â”‚   â”œâ”€â”€ zenoh_router_config.json5
â”‚   â”‚   â”œâ”€â”€ zenoh_session_config.json5
â”‚   â”‚   â”œâ”€â”€ cyclonedds.xml
â”‚   â”‚   â”œâ”€â”€ lslidar/            # LSLIDAR ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ¸ (Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰Ñ‘Ğ½ 24.10.2025)
â”‚   â”‚   â””â”€â”€ monitoring/          # Monitoring ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ¸ (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ 24.10.2025)
â”‚   â”œâ”€â”€ scripts/                 # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
â”‚   â”œâ”€â”€ maps/                    # Persistent RTAB-Map Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
â”‚   â”œâ”€â”€ zenoh-router/
â”‚   â”œâ”€â”€ twist-mux/
â”‚   â”œâ”€â”€ rtabmap/
â”‚   â”œâ”€â”€ lslidar/                 # ĞŸĞµÑ€ĞµĞ¼ĞµÑ‰Ñ‘Ğ½ Ñ Vision Pi (24.10.2025)
â”‚   â”œâ”€â”€ perception/              # ĞŸĞµÑ€ĞµĞ¼ĞµÑ‰Ñ‘Ğ½ Ñ Vision Pi (24.10.2025)
â”‚   â”œâ”€â”€ nav2/
â”‚   â”œâ”€â”€ vesc-driver/
â”‚   â”œâ”€â”€ robot-state-publisher/
â”‚   â””â”€â”€ micro-ros-agent/
â””â”€â”€ vision/                      # Vision Pi ÑĞµÑ€Ğ²Ğ¸ÑÑ‹
    â”œâ”€â”€ docker-compose.yaml
    â”œâ”€â”€ config/                  # ĞĞ±Ñ‰Ğ¸Ğµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ¸
    â”‚   â”œâ”€â”€ zenoh_router_config.json5
    â”‚   â”œâ”€â”€ oak_d_config.yaml
    â”‚   â””â”€â”€ cyclonedds.xml
    â”œâ”€â”€ scripts/
    â”œâ”€â”€ zenoh-router/
    â”œâ”€â”€ oak-d/                       # Includes integrated AprilTag detection
    â””â”€â”€ voice-assistant/             # Voice assistant (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ Ğ¾ĞºÑ‚ÑĞ±Ñ€ÑŒ 2025)
```

### 6.2. Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ²

```
Main Pi:
  zenoh-router (base)
      â†“
  â”œâ”€ twist-mux â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”œâ”€ rtabmap â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”œâ”€ lslidar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  (Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰Ñ‘Ğ½ Ñ Vision Pi 24.10.2025)
  â”œâ”€ perception â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  (Ğ¿ĞµÑ€ĞµĞ¼ĞµÑ‰Ñ‘Ğ½ Ñ Vision Pi 24.10.2025)
  â”œâ”€ nav2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”œâ”€ vesc-driver â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”œâ”€ robot-state-publisher â”€â”€â”€â”€â”¤  (Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½ TF wrapper 24.10.2025)
  â””â”€ micro-ros-agent â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â””â”€ depends_on: zenoh-router

Vision Pi:
  zenoh-router (base)
      â†“
  â”œâ”€ oak-d â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  (with integrated AprilTag detection, 25.10.2025)
  â””â”€ voice-assistant â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ Ğ¾ĞºÑ‚ÑĞ±Ñ€ÑŒ 2025)
      â””â”€ depends_on: zenoh-router
```

### 6.3. Volume ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ

**ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿**: ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹, ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ Ğ¸ launch-Ñ„Ğ°Ğ¹Ğ»Ñ‹ **Ğ¼Ğ¾Ğ½Ñ‚Ğ¸Ñ€ÑƒÑÑ‚ÑÑ**, Ğ° Ğ½Ğµ ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒÑÑ‚ÑÑ Ğ² Ğ¾Ğ±Ñ€Ğ°Ğ·.

| Ğ¢Ğ¸Ğ¿ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… | Ğ Ğ°Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ | ĞœĞ¾Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ | ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ° |
|------------|------------|--------------|---------|
| **Config files** | `docker/*/config/` | `./config:/config:ro` | Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ±ĞµĞ· Ğ¿ĞµÑ€ĞµÑĞ±Ğ¾Ñ€ĞºĞ¸ |
| **Scripts** | `docker/*/scripts/` | `./scripts:/scripts:ro` | Ğ‘Ñ‹ÑÑ‚Ñ€Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ |
| **Launch files** | `docker/*/*/launch/` | `./*/launch:/launch:ro` | Ğ“Ğ¸Ğ±ĞºĞ¾ÑÑ‚ÑŒ Ğ² Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞµ |
| **Maps** | `docker/main/maps/` | `./maps:/root/.ros/rtabmap:rw` | Persistence Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… |
| **URDF** | `src/rob_box_description/` | ĞœĞ¾Ğ½Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ | Ğ•Ğ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº Ğ¿Ñ€Ğ°Ğ²Ğ´Ñ‹ |

**âš ï¸ ĞĞ• ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞµĞ¼ Ğ² Dockerfile**:
- âŒ `COPY config/` â€” Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ volume
- âŒ `COPY scripts/` â€” Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ volume
- âŒ `COPY launch/` â€” Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ volume

---

## 7. ĞŸĞ¾Ñ‚Ğ¾ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### 7.1. Vision Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Vision Pi                                  â”‚
â”‚                                                                   â”‚
â”‚  OAK-D Lite Camera                                                â”‚
â”‚       â”‚                                                           â”‚
â”‚       â”œâ”€â–º RGB (1280Ã—720 @ 5Hz) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚       â”‚                                           â”‚               â”‚
â”‚       â””â”€â–º Depth (640Ã—400 @ 5Hz) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚               â”‚
â”‚                                             â”‚     â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚               â”‚
â”‚  â”‚       oak_d_node                     â”‚  â”‚     â”‚               â”‚
â”‚  â”‚  - JPEG compression (quality 80)     â”‚  â”‚     â”‚               â”‚
â”‚  â”‚  - PNG depth compression (level 3)   â”‚  â”‚     â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚               â”‚
â”‚                 â”‚                           â”‚     â”‚               â”‚
â”‚                 â–¼ /camera/color/image_raw   â”‚     â”‚               â”‚
â”‚                           (compressed)      â”‚     â”‚               â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚               â”‚
â”‚         â”‚                                         â”‚               â”‚
â”‚         â–¼                                         â–¼               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚apriltag_node â”‚                     â”‚ Zenoh Router     â”‚       â”‚
â”‚  â”‚ (in oak-d    â”‚                     â”‚  - Bridge topics â”‚       â”‚
â”‚  â”‚  container)  â”‚                     â”‚  - Compression   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                                      â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€/tf, /apriltag/detectionsâ”€â”˜
                          Gigabit Ethernet
                                 â”‚
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚      Main Pi        â”‚
                      â”‚   Zenoh Router      â”‚
                      â”‚  - Decompress       â”‚
                      â”‚  - Distribute       â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                       â”‚
                    â–¼                       â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ rtabmap â”‚            â”‚   nav2   â”‚
              â”‚  SLAM   â”‚            â”‚          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2. Navigation Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Main Pi                                  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚  LS LiDAR     â”‚      â”‚   VESC Driver  â”‚                       â”‚
â”‚  â”‚   Driver      â”‚      â”‚   (Odometry)   â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚          â”‚                       â”‚                               â”‚
â”‚          â”‚ /scan (10Hz)          â”‚ /odom (50Hz)                  â”‚
â”‚          â”‚                       â”‚                               â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                      â”‚                                           â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚              â”‚   RTAB-Map     â”‚                                  â”‚
â”‚              â”‚   - Mapping    â”‚                                  â”‚
â”‚              â”‚   - Localize   â”‚                                  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                      â”‚                                           â”‚
â”‚             /map, /rtabmap/localization_pose                     â”‚
â”‚                      â”‚                                           â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚              â”‚     Nav2       â”‚                                  â”‚
â”‚              â”‚   - Planner    â”‚                                  â”‚
â”‚              â”‚   - Controller â”‚                                  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                      â”‚                                           â”‚
â”‚                 /cmd_vel_nav                                     â”‚
â”‚                      â”‚                                           â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚              â”‚   twist_mux    â”‚â—„â”€â”€â”€ /cmd_vel_teleop, /cmd_vel_joyâ”‚
â”‚              â”‚   (Priority)   â”‚                                  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                      â”‚                                           â”‚
â”‚                  /cmd_vel                                        â”‚
â”‚                      â”‚                                           â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚              â”‚  VESC Driver   â”‚                                  â”‚
â”‚              â”‚ (Velocity Ctrl)â”‚                                  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                      â”‚                                           â”‚
â”‚                   CAN Bus                                        â”‚
â”‚                      â”‚                                           â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚              â”‚  2Ã— VESC Motor â”‚                                  â”‚
â”‚              â”‚   Controllers  â”‚                                  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3. Sensor Hub Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ESP32 Sensor Hub                             â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ 8Ã— AHT30â”‚  â”‚  HX711  â”‚  â”‚ 2Ã— FANs â”‚  â”‚   IMU   â”‚ (future)   â”‚
â”‚  â”‚ (Temp/  â”‚  â”‚ (Weight)â”‚  â”‚ (PWM/   â”‚  â”‚ (9-DOF) â”‚            â”‚
â”‚  â”‚  Humid) â”‚  â”‚         â”‚  â”‚  Tacho) â”‚  â”‚         â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â”‚
â”‚       â”‚            â”‚            â”‚            â”‚                  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                             â”‚                                    â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚  ESP32 Firmware â”‚                           â”‚
â”‚                    â”‚  (Micro-ROS)    â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                             â”‚                                    â”‚
â”‚                     USB Serial (115200)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      Main Pi       â”‚
                    â”‚  micro_ros_agent   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              /device/snapshot (1Hz) â”€â”€â”¬â”€â–º Monitoring
                                       â””â”€â–º Temperature control
```

---

## 8. ĞŸÑ€Ğ¸Ğ½ÑÑ‚Ñ‹Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ

### 8.1. ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Dual Raspberry Pi?

| ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° | Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ñ 1 Pi | Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ñ 2 Pi |
|----------|----------------|----------------|
| CPU Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° | 95%+ (RTAB-Map + OAK-D) | Main: 40%, Vision: 45% |
| Ğ¡ĞµÑ‚ĞµĞ²Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº | Ğ’ÑĞµ Ñ‡ĞµÑ€ĞµĞ· WiFi | 85% Ñ‡ĞµÑ€ĞµĞ· Ethernet, WiFi ÑĞ²Ğ¾Ğ±Ğ¾Ğ´ĞµĞ½ |
| ĞÑ‚ĞºĞ°Ğ·Ğ¾ÑƒÑÑ‚Ğ¾Ğ¹Ñ‡Ğ¸Ğ²Ğ¾ÑÑ‚ÑŒ | Ğ¡Ğ±Ğ¾Ğ¹ ĞºĞ°Ğ¼ĞµÑ€Ñ‹ â†’ ÑĞ±Ğ¾Ğ¹ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸ | Ğ˜Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹ |
| ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ | ĞĞµĞ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑƒĞ·Ğ»Ñ‹ | Ğ›ĞµĞ³ĞºĞ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ 3Ğ¹, 4Ğ¹ Pi |

### 8.2. ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Zenoh Ğ²Ğ¼ĞµÑÑ‚Ğ¾ DDS?

| ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹ | CycloneDDS | Zenoh |
|----------|------------|-------|
| Overhead | ~20% CPU Ğ½Ğ° discovery | <5% CPU, efficient routing |
| ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° WAN | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ°Ñ (multicast Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹) | ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ (TCP/UDP/TLS) |
| Ğ¡Ğ¶Ğ°Ñ‚Ğ¸Ğµ | ĞĞµÑ‚ Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ | Ğ’ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° |
| ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ | Ğ”Ğ¾ 10-20 ÑƒĞ·Ğ»Ğ¾Ğ² | Ğ¡Ğ¾Ñ‚Ğ½Ğ¸ ÑƒĞ·Ğ»Ğ¾Ğ² |
| Interoperability | ROS 2 only | ROS 2 + non-ROS ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ |

### 8.3. ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Docker Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑÑ‹?

| ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾ | ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ |
|--------------|------------|
| **Ğ˜Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ** | Ğ¡Ğ±Ğ¾Ğ¹ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ° Ğ½Ğµ Ñ€Ğ¾Ğ½ÑĞµÑ‚ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ |
| **ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼Ğ¾ÑÑ‚ÑŒ** | ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²Ğ¸ÑĞ° Ğ±ĞµĞ· Ğ¿ĞµÑ€ĞµÑĞ±Ğ¾Ñ€ĞºĞ¸ Ğ²ÑĞµĞ³Ğ¾ |
| **Ğ’ĞµÑ€ÑĞ¸Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ** | ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ Ğ¸Ğ¼ĞµĞµÑ‚ ÑĞ²Ğ¾Ñ Ğ²ĞµÑ€ÑĞ¸Ñ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ° |
| **Ğ’Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ** | ĞĞ´Ğ¸Ğ½Ğ°ĞºĞ¾Ğ²Ğ¾Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ»ÑĞ±Ğ¾Ğ¼ Pi |
| **CI/CD** | ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑĞ±Ğ¾Ñ€ĞºĞ° Ğ¸ Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹ Ñ‡ĞµÑ€ĞµĞ· GitHub Actions |

### 8.4. ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Volume-Ğ¼Ğ¾Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ¾Ğ²?

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°**: Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ config.yaml Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ¿ĞµÑ€ĞµÑĞ±Ğ¾Ñ€ĞºĞ¸ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ° (5-10 Ğ¼Ğ¸Ğ½ÑƒÑ‚).

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ**: ĞœĞ¾Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ¸ ĞºĞ°Ğº volumes.

| ĞĞ¿ĞµÑ€Ğ°Ñ†Ğ¸Ñ | Ğ¡ COPY Ğ² Dockerfile | Ğ¡ Volume Ğ¼Ğ¾Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ |
|----------|---------------------|------------------------|
| Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ | Rebuild Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ° (5-10 Ğ¼Ğ¸Ğ½) | Restart ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ° (5 ÑĞµĞº) |
| ĞÑ‚ĞºĞ°Ñ‚Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ | Rebuild ÑÑ‚Ğ°Ñ€Ğ¾Ğ¹ Ğ²ĞµÑ€ÑĞ¸Ğ¸ | ĞÑ‚ĞºĞ°Ñ‚Ğ¸Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ» Ğ½Ğ° Ñ…Ğ¾ÑÑ‚Ğµ |
| Ğ”ĞµĞ±Ğ°Ğ³ Ğ½Ğ° Pi | ĞÑƒĞ¶ĞµĞ½ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğ²Ğ½ÑƒÑ‚Ñ€ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ° | ĞŸÑ€Ğ°Ğ²Ğ¸Ğ¼ Ñ„Ğ°Ğ¹Ğ» Ğ½Ğ° Ñ…Ğ¾ÑÑ‚Ğµ |

---

## 9. ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¸ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ

### 9.1. ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ OAK-D Lite ĞºĞ°Ğ¼ĞµÑ€Ñ‹

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°**: Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ½Ğ° Raspberry Pi Ğ¿Ñ€Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ (85-95% CPU).

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ**:

| ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ | Ğ”Ğ¾ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ | ĞŸĞ¾ÑĞ»Ğµ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ | Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ |
|----------|----------------|-------------------|----------|
| **RGB Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ** | 1920Ã—1080 (1080p) | 1280Ã—720 (720p) | -43% Ğ¿Ğ¸ĞºÑĞµĞ»ĞµĞ¹ |
| **FPS** | 10 Hz | 5 Hz | -50% ĞºĞ°Ğ´Ñ€Ğ¾Ğ² |
| **Stereo Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ** | 1280Ã—720 | 640Ã—400 | -56% Ğ¿Ğ¸ĞºÑĞµĞ»ĞµĞ¹ |
| **CPU Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°** | 85-95% | 30-45% | â¬‡ï¸ ~50% |
| **Network bandwidth** | 80-100 Mbps | 8-15 Mbps | â¬‡ï¸ ~85% |
| **RAM (Vision Pi)** | ~1.2 GB | ~600 MB | â¬‡ï¸ ~50% |

**ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ** (`config/oak-d/oak_d_config.yaml`):
```yaml
i_rgb_resolution: "720p"       # Ğ¡Ğ½Ğ¸Ğ¶ĞµĞ½Ğ¾ Ñ 1080p
i_fps: 5.0                     # Ğ¡Ğ½Ğ¸Ğ¶ĞµĞ½Ğ¾ Ñ 10.0
i_stereo_width: 640            # Ğ¡Ğ½Ğ¸Ğ¶ĞµĞ½Ğ¾ Ñ 1280
i_stereo_height: 400           # Ğ¡Ğ½Ğ¸Ğ¶ĞµĞ½Ğ¾ Ñ 720

# Ğ¡Ğ¶Ğ°Ñ‚Ğ¸Ğµ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
rgb:
  image_transport: compressed        # JPEG ÑĞ¶Ğ°Ñ‚Ğ¸Ğµ
stereo:
  image_transport: compressedDepth   # PNG ÑĞ¶Ğ°Ñ‚Ğ¸Ğµ

# ĞÑ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ½ĞµĞ½ÑƒĞ¶Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ²
i_enable_imu: false
i_enable_preview: false
left.i_enabled: false          # Depth Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾
right.i_enabled: false
i_output_disparity: false
```

### 9.2. ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ RTAB-Map

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°**: Ğ’Ñ‹ÑĞ¾ĞºĞ¾Ğµ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ»ĞµĞ½Ğ¸Ğµ CPU Ğ¸ Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸ Ğ¿Ñ€Ğ¸ SLAM ĞºĞ°Ñ€Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ğ¸.

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ**:

| ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ | Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ | ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹ |
|----------|----------|-------------|
| `Mem/ImagePreDecimation` | 2 | Ğ£Ğ¼ĞµĞ½ÑŒÑˆĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ Ã—2 |
| `Kp/MaxFeatures` | 400 | Ğ¡Ğ½Ğ¸Ğ¶ĞµĞ½Ğ¾ Ñ 1000 |
| `Vis/MaxFeatures` | 200 | Ğ¡Ğ½Ğ¸Ğ¶ĞµĞ½Ğ¾ Ñ 400 |
| `Vis/FeatureType` | 6 (GFTT) | Ğ‘Ñ‹ÑÑ‚Ñ€ĞµĞµ Ñ‡ĞµĞ¼ SIFT/SURF |
| `Vis/CorType` | 1 (BRIEF) | Ğ›ĞµĞ³ĞºĞ¾Ğ²ĞµÑĞ½Ñ‹Ğ¹ Ğ´ĞµÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ñ€ |
| `Mem/STMSize` | 10 | ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ Short-Term Memory |
| `Grid/RangeMax` | 5.0 Ğ¼ | ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ ÑĞµÑ‚ĞºĞ¸ |
| `Rtabmap/DetectionRate` | 0.5 Hz | Loop closure Ñ€Ğ°Ğ· Ğ² 2 ÑĞµĞº |

**Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚**: ~50% ÑĞ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ CPU Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸, ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ 5 FPS.

### 9.3. Zenoh Ğ´Ğ»Ñ ÑĞ½ĞµÑ€Ğ³Ğ¾ÑĞ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ¸Ñ

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Zenoh Ğ½Ğ°Ğ´ DDS**:

| ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹ | CycloneDDS | Zenoh |
|----------|------------|-------|
| **CPU overhead** | ~20% Ğ½Ğ° discovery | <5% |
| **Bandwidth** | Ğ‘ĞµĞ· ÑĞ¶Ğ°Ñ‚Ğ¸Ñ | Ğ’ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ¾Ğµ ÑĞ¶Ğ°Ñ‚Ğ¸Ğµ |
| **WAN support** | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ°Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° | ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ (TCP/TLS) |
| **ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ** | 10-20 ÑƒĞ·Ğ»Ğ¾Ğ² | Ğ¡Ğ¾Ñ‚Ğ½Ğ¸ ÑƒĞ·Ğ»Ğ¾Ğ² |
| **Cloud integration** | ĞĞµÑ‚ | Ğ”Ğ° (Ğ¾Ğ±Ğ»Ğ°Ñ‡Ğ½Ñ‹Ğ¹ Ñ€Ğ¾ÑƒÑ‚ĞµÑ€) |

**ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ**:
```json5
// Main Pi (peer mode)
{
  mode: "peer",
  listen: { endpoints: ["tcp/0.0.0.0:7447"] },
  scouting: { multicast: { enabled: false } }
}

// Vision Pi (client mode)
{
  mode: "client",
  connect: { endpoints: ["tcp/10.1.1.10:7447"] }
}
```

### 9.4. ros2_control Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

**Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±ÑĞ·Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ĞµĞ¹**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  URDF (rob_box_main.xacro)                                   â”‚
â”‚  â€¢ Geometry (links, joints)                                  â”‚
â”‚  â€¢ <ros2_control> Ğ±Ğ»Ğ¾Ğº                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  robot_state_publisher   â”‚  â”‚  controller_manager       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  âœ… Ğ§Ğ¸Ñ‚Ğ°ĞµÑ‚: Links/Joints â”‚  â”‚  âœ… Ğ§Ğ¸Ñ‚Ğ°ĞµÑ‚: ros2_control  â”‚
â”‚  âœ… ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ°: /joint_statesâ”‚ â”‚  âœ… Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚: Hardware IF â”‚
â”‚  âœ… ĞŸÑƒĞ±Ğ»Ğ¸ĞºÑƒĞµÑ‚: TF        â”‚  â”‚  âœ… Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚: ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ñ‹â”‚
â”‚  âŒ ĞĞ• ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¼Ğ¾Ñ‚Ğ¾Ñ€Ğ°Ğ¼Ğ¸â”‚  â”‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                          â”‚
               â””â”€â”€â–º TF Tree â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…**:
```
VESC (CAN) â†’ VescSystemHardwareInterface 
           â†’ joint_state_broadcaster 
           â†’ /joint_states 
           â†’ robot_state_publisher 
           â†’ TF (base_link â†’ wheels)
```

### 9.5. ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸

**CPU Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°**:
```bash
htop
# Main Pi: ÑĞ»ĞµĞ´Ğ¸Ñ‚ÑŒ Ğ·Ğ° rtabmap, controller_manager
# Vision Pi: ÑĞ»ĞµĞ´Ğ¸Ñ‚ÑŒ Ğ·Ğ° depthai_ros_driver
```

**Network bandwidth**:
```bash
iftop -i eth0  # Gigabit Ethernet
```

**ROS 2 Ñ‚Ğ¾Ğ¿Ğ¸ĞºĞ¸**:
```bash
# Ğ§Ğ°ÑÑ‚Ğ¾Ñ‚Ğ° Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸
ros2 topic hz /oak/rgb/image_raw/compressed

# Ğ Ğ°Ğ·Ğ¼ĞµÑ€ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
ros2 topic bw /oak/rgb/image_raw/compressed

# Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° RTAB-Map
ros2 topic echo /rtabmap/info
```

**Docker ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°**:
```bash
docker stats  # CPU, RAM Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°
```

---

## ğŸ“š Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹

- [ĞĞ¿Ğ¿Ğ°Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](HARDWARE.md)
- [ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](SOFTWARE.md)
- [Ğ Ğ°Ğ·Ğ²Ñ‘Ñ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ](../deployment/README.md)
- [Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ñ‹ Docker](../development/DOCKER_STANDARDS.md)
- [CI/CD Pipeline](../CI_CD_PIPELINE.md)

---

<div align="center">
  <sub>Ğ’ĞµÑ€ÑĞ¸Ñ: 1.0.0 | Ğ”Ğ°Ñ‚Ğ°: 2025-10-12 | ĞĞ²Ñ‚Ğ¾Ñ€: ĞšĞ£ĞšĞĞ Ğ•ĞšĞ•Ğ</sub>
</div>
