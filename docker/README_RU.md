# üéØ –†–µ–∑—é–º–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ OAK-D-Lite –Ω–∞ Raspberry Pi

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞
- **[POWER_MANAGEMENT.md](POWER_MANAGEMENT.md)** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏–µ–º Raspberry Pi 5
- **[POWER_MONITORING_SCRIPTS.md](POWER_MONITORING_SCRIPTS.md)** - –°–∫—Ä–∏–ø—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–∏—Ç–∞–Ω–∏—è –∏ USB
- **[OPTIMIZATION_README.md](OPTIMIZATION_README.md)** - –î–µ—Ç–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
- **[ARCHITECTURE.md](ARCHITECTURE.md)** - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- **[DOCKER_STANDARDS.md](DOCKER_STANDARDS.md)** - –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã Docker Compose

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- **[AGENT_GUIDE.md](AGENT_GUIDE.md)** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤
- **[TROUBLESHOOTING.md](TROUBLESHOOTING.md)** - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- **[CONTRIBUTING.md](../CONTRIBUTING.md)** - –£—á–∞—Å—Ç–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ

---

## –ü—Ä–æ–±–ª–µ–º–∞

–í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–±–æ—Ç–∞ –Ω–∞ ROS 2 —Å OAK-D-Lite –∫–∞–º–µ—Ä–æ–π —Å–∏–ª—å–Ω–æ –Ω–∞–≥—Ä—É–∂–∞–ª–∞ Raspberry Pi –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã.

**–°–∏–º–ø—Ç–æ–º—ã:**
- CPU 85-95% –Ω–∞ Pi —Å –∫–∞–º–µ—Ä–æ–π
- –°–µ—Ç–µ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ 80-100 Mbps –º–µ–∂–¥—É –¥–≤—É–º—è Pi
- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- –í–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–ø—É—Å–∫–∏ –∫–∞–¥—Ä–æ–≤

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### üìπ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞–º–µ—Ä—ã OAK-D

#### 1. –°–Ω–∏–∂–µ–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏ FPS
- **RGB**: 1080p ‚Üí 720p (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è), 1280x720 ‚Üí 640x360 (–¥–ª—è RTAB-Map)
- **Depth**: 1280x720 ‚Üí 640x400
- **FPS**: 10 ‚Üí 5 –∫–∞–¥—Ä–æ–≤/—Å–µ–∫
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: ~70% —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É

#### 2. –û—Ç–∫–ª—é—á–µ–Ω—ã –Ω–µ–Ω—É–∂–Ω—ã–µ –ø–æ—Ç–æ–∫–∏
- IMU (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- Preview –ø–æ—Ç–æ–∫
- Left/Right –∫–∞–º–µ—Ä—ã (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ depth)
- Disparity –∫–∞—Ä—Ç–∞
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–µ—Ä–µ–¥–∞—á–∏

#### 3. –í–∫–ª—é—á–µ–Ω–æ —Å–∂–∞—Ç–∏–µ
- RGB: JPEG –∫–∞—á–µ—Å—Ç–≤–æ 80 (~70% —ç–∫–æ–Ω–æ–º–∏–∏)
- Depth: PNG —É—Ä–æ–≤–µ–Ω—å 3 (~60% —ç–∫–æ–Ω–æ–º–∏–∏)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: ~85% —Å–Ω–∏–∂–µ–Ω–∏–µ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞

### üåê –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CycloneDDS

#### –ù–∞ –æ–±–æ–∏—Ö Raspberry Pi:
- –£–º–µ–Ω—å—à–µ–Ω—ã –±—É—Ñ–µ—Ä—ã (–±—ã–ª–∏ 10MB ‚Üí 2-8MB –ø–æ —Å–∏—Ç—É–∞—Ü–∏–∏)
- –£–≤–µ–ª–∏—á–µ–Ω –∏–Ω—Ç–µ—Ä–≤–∞–ª discovery (1s ‚Üí 5s)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω throttling –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- –û—Ç–∫–ª—é—á–µ–Ω IPv6
- –î–æ–±–∞–≤–ª–µ–Ω—ã watermarks –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ú–µ–Ω—å—à–µ overhead –æ—Ç DDS, —ç–∫–æ–Ω–æ–º–∏—è CPU

### üó∫Ô∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è RTAB-Map

#### –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- Features: 1000 ‚Üí 400 (–≤–∏–∑—É–∞–ª—å–Ω—ã–µ), 400 ‚Üí 200 (keypoints)
- –¢–∏–ø features: SURF/SIFT ‚Üí GFTT/BRIEF (–±—ã—Å—Ç—Ä–µ–µ)
- Loop closure: –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä ‚Üí —Ä–∞–∑ –≤ 2 —Å–µ–∫—É–Ω–¥—ã
- –ü–∞–º—è—Ç—å: unlimited ‚Üí 50 MB –ª–∏–º–∏—Ç
- STM size: unlimited ‚Üí 10 –ª–æ–∫–∞—Ü–∏–π
- Grid range: unlimited ‚Üí 5 –º–µ—Ç—Ä–æ–≤
- Queue size: 30 ‚Üí 5

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ~50% —Å–Ω–∏–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏

### üê≥ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–æ–ø–∏–∫–∏ –¥–ª—è OAK-D (–±—ã–ª–∏ –¥–ª—è RealSense)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω RGBD —Ä–µ–∂–∏–º
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∂–∞—Ç–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ —Ñ–∞–π–ª

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

| –ú–µ—Ç—Ä–∏–∫–∞ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|------|-------|-----------|
| **CPU Pi #1** | 85-95% | 30-45% | ‚¨áÔ∏è 50% |
| **CPU Pi #2** | 80-100% | 40-60% | ‚¨áÔ∏è 40% |
| **–°–µ—Ç—å** | 80-100 Mbps | 8-15 Mbps | ‚¨áÔ∏è 85% |
| **RAM Pi #1** | 1.2 GB | 0.6 GB | ‚¨áÔ∏è 50% |
| **RAM Pi #2** | 1.5 GB | 0.8 GB | ‚¨áÔ∏è 47% |
| **FPS** | 6-8 –Ω–µ—Å—Ç–∞–±. | 5 —Å—Ç–∞–±. | ‚úÖ |

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û–±–Ω–æ–≤–ª–µ–Ω—ã:
1. `docker/vision/config/oak_d_config.yaml` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–º–µ—Ä—ã
2. `docker/vision/config/cyclonedds.xml` - DDS –Ω–∞ Pi #1
3. `docker/vision/config/start_oak_d.sh` - —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
4. `docker/main/config/cyclonedds.xml` - DDS –Ω–∞ Pi #2
5. `docker/main/docker-compose.yaml` - –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ RTAB-Map

### –°–æ–∑–¥–∞–Ω—ã –Ω–æ–≤—ã–µ:
6. `docker/main/config/rtabmap_config.yaml` - –∫–æ–Ω—Ñ–∏–≥ RTAB-Map
7. `docker/OPTIMIZATION_README.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
8. `docker/QUICK_START_RU.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
9. `docker/SUMMARY.md` - —Å–≤–æ–¥–∫–∞ (EN)
10. `docker/CHECKLIST.md` - —á–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
11. `docker/ARCHITECTURE.md` - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### Raspberry Pi #1 (—Å –∫–∞–º–µ—Ä–æ–π):
```bash
cd docker/vision
docker-compose down
docker-compose up -d
docker logs -f oak-d
```

### Raspberry Pi #2 (—Å RTAB-Map):
```bash
cd docker/main
docker-compose down
docker-compose up -d
docker logs -f rtabmap
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É:
```bash
# –¢–æ–ø–∏–∫–∏
ros2 topic list | grep oak

# FPS (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å ~5 Hz)
ros2 topic hz /oak/rgb/image_raw/compressed

# Bandwidth (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 1-3 MB/s)
ros2 topic bw /oak/rgb/image_raw/compressed

# CPU (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å < 50%)
htop
```

## ‚öôÔ∏è –¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ —Ç–æ—Ä–º–æ–∑–∏—Ç:

**–û–ø—Ü–∏—è 1**: –°–Ω–∏–∑–∏—Ç—å FPS –¥–æ 3
```yaml
# –≤ oak_d_config.yaml
i_fps: 3.0
```

**–û–ø—Ü–∏—è 2**: –°–Ω–∏–∑–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ JPEG
```bash
# –≤ start_oak_d.sh
export COMPRESSED_IMAGE_TRANSPORT_JPEG_QUALITY=60
```

**–û–ø—Ü–∏—è 3**: –£–º–µ–Ω—å—à–∏—Ç—å features
```yaml
# –≤ rtabmap_config.yaml
Vis/MaxFeatures: "300"
Kp/MaxFeatures: "150"
```

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ª—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–æ:

**–û–ø—Ü–∏—è 1**: –£–≤–µ–ª–∏—á–∏—Ç—å features
```yaml
# –≤ rtabmap_config.yaml
Vis/MaxFeatures: "600"
Kp/MaxFeatures: "300"
```

**–û–ø—Ü–∏—è 2**: –ü–æ–≤—ã—Å–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ JPEG
```bash
# –≤ start_oak_d.sh
export COMPRESSED_IMAGE_TRANSPORT_JPEG_QUALITY=90
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
```bash
# CPU
top -bn1 | grep "Cpu(s)"

# –ü–∞–º—è—Ç—å
free -h

# –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (–≤–∞–∂–Ω–æ!)
vcgencmd measure_temp

# –¢–æ–ø–∏–∫–∏
ros2 topic hz /oak/rgb/image_raw/compressed
ros2 topic bw /oak/rgb/image_raw/compressed
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ RTAB-Map:
```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
ros2 topic echo /rtabmap/info

# –û–¥–æ–º–µ—Ç—Ä–∏—è
ros2 topic echo /rtabmap/odom
```

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –¢–æ–ø–∏–∫–∏ –Ω–µ –≤–∏–¥–Ω—ã –Ω–∞ –≤—Ç–æ—Ä–æ–º Pi

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ROS_DOMAIN_ID (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 0 –Ω–∞ –æ–±–æ–∏—Ö)
echo $ROS_DOMAIN_ID

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å ROS daemon
ros2 daemon stop
ros2 daemon start

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ping
ping <IP_–¥—Ä—É–≥–æ–≥–æ_Pi>
```

### "Waiting for images" –≤ RTAB-Map

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ—Ç –ø–ª–∞–≥–∏–Ω–∞ compressed_image_transport

**–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä rtabmap (—É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Dockerfile)

### –í—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ Pi (> 75¬∞C)

**–†–µ—à–µ–Ω–∏–µ**: 
- –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–¥–∏–∞—Ç–æ—Ä –∏/–∏–ª–∏ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä
- –°–Ω–∏–∑–∏—Ç—å FPS –¥–æ 3
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ–Ω—Ç–∏–ª—è—Ü–∏—é –∫–æ—Ä–ø—É—Å–∞

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**: `OPTIMIZATION_README.md`
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**: `QUICK_START_RU.md`
- **–ß–µ–∫–ª–∏—Å—Ç –∑–∞–ø—É—Å–∫–∞**: `CHECKLIST.md`
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: `ARCHITECTURE.md`
- **–°–≤–æ–¥–∫–∞ (EN)**: `SUMMARY.md`

## ‚úÖ –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã:

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Å–º. CHECKLIST.md)
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –¥–≤–∏–∂–µ–Ω–∏–∏
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥ –≤–∞—à–∏ –∑–∞–¥–∞—á–∏
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (—Å–∫—Ä–∏–ø—Ç –≤ CHECKLIST.md)
5. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å–∏—Å—Ç–µ–º–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

## üí° –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **FPS 5** - –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–∞—á–µ—Å—Ç–≤–æ–º –∏ –Ω–∞–≥—Ä—É–∑–∫–æ–π
2. **–°–∂–∞—Ç–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** - –±–µ–∑ –Ω–µ–≥–æ —Å–µ—Ç—å –Ω–µ —Å–ø—Ä–∞–≤–∏—Ç—Å—è
3. **GFTT/BRIEF** - –±—ã—Å—Ç—Ä–µ–µ —á–µ–º SIFT/SURF
4. **CycloneDDS** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –¥–≤—É—Ö Pi
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–∞–∂–µ–Ω** - —Å–ª–µ–¥–∏—Ç–µ –∑–∞ CPU –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å **—Å—Ç–∞–±–∏–ª—å–Ω–æ** –∏ **—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ** –Ω–∞ Raspberry Pi:
- ‚úÖ –ù–∏–∑–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ CPU
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–µ—Ç–µ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π FPS
- ‚úÖ –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –æ—Ç RTAB-Map
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

---

**–ê–≤—Ç–æ—Ä –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**: GitHub Copilot  
**–î–∞—Ç–∞**: 8 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è ROS**: Humble  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: Raspberry Pi 4/5
