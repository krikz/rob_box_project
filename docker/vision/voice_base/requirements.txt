# Python зависимости для Voice Assistant
# Версии зафиксированы для стабильности на ARM64 (Raspberry Pi)

# ============================================================================
# Базовые библиотеки
# ============================================================================
pyyaml>=6.0
requests>=2.31.0
pyusb>=1.2.1
omegaconf>=2.3.0
numpy>=1.24.0,<2.0.0

# ============================================================================
# Аудио обработка
# ============================================================================
pyaudio>=0.2.13
sounddevice>=0.4.6
soundfile>=0.12.1

# ============================================================================
# Machine Learning (PyTorch для ARM64)
# ============================================================================
# PyTorch 2.1.0 - последняя стабильная версия с хорошей поддержкой ARM64
# Используем официальные wheel из PyPI
torch==2.1.0
torchaudio==2.1.0

# ============================================================================
# Speech-to-Text движки
# ============================================================================
# Vosk - легковесный offline STT (поддержка русского языка)
vosk>=0.3.45

# OpenAI Whisper - high-quality STT (требует больше памяти)
openai-whisper>=20231117

# Faster Whisper - оптимизированная версия (CTranslate2)
faster-whisper>=1.0.0

# ============================================================================
# Text-to-Speech
# ============================================================================
# Silero TTS используется напрямую через загруженную модель
# Дополнительные библиотеки не нужны (только torch)

# ============================================================================
# gRPC для Yandex Cloud STT (опционально)
# ============================================================================
grpcio>=1.59.0
grpcio-tools>=1.59.0
protobuf>=4.25.0

# ============================================================================
# OpenAI API для диалогов
# ============================================================================
# HTTP библиотеки
httpx>=0.25.0
httpcore>=1.0.0
h11>=0.14.0
anyio>=4.0.0
sniffio>=1.3.0

# Pydantic для валидации (используем стабильную версию)
# ВАЖНО: pydantic-core 2.41.3 имеет проблемы на ARM64
# Используем проверенную версию 2.27.0
pydantic-core==2.27.0
pydantic>=2.5.0,<3.0.0

# OpenAI SDK
openai>=1.3.0

# ============================================================================
# Утилиты
# ============================================================================
typing-extensions>=4.8.0
